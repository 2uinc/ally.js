{"version":3,"file":"generated.js","sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/array.prototype.findindex/index.js","node_modules/css.escape/css.escape.js","node_modules/platform/platform.js","/Users/mfrohberg/2U/open_source/ally.js/src/ally.js","/Users/mfrohberg/2U/open_source/ally.js/src/element/disabled.js","/Users/mfrohberg/2U/open_source/ally.js/src/event/shadow-focus.js","/Users/mfrohberg/2U/open_source/ally.js/src/fix/pointer-focus-children.js","/Users/mfrohberg/2U/open_source/ally.js/src/fix/pointer-focus-input.js","/Users/mfrohberg/2U/open_source/ally.js/src/fix/pointer-focus-parent.js","/Users/mfrohberg/2U/open_source/ally.js/src/get/active-elements.js","/Users/mfrohberg/2U/open_source/ally.js/src/get/focus-target.js","/Users/mfrohberg/2U/open_source/ally.js/src/get/insignificant-branches.js","/Users/mfrohberg/2U/open_source/ally.js/src/get/parents.js","/Users/mfrohberg/2U/open_source/ally.js/src/get/shadow-host-parents.js","/Users/mfrohberg/2U/open_source/ally.js/src/get/shadow-host.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/disabled.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/focus-relevant.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/focusable.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/is.util.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/native-disabled-supported.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/only-tabbable.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/shadowed.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/tabbable.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/valid-area.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/valid-tabindex.js","/Users/mfrohberg/2U/open_source/ally.js/src/is/visible.js","/Users/mfrohberg/2U/open_source/ally.js/src/maintain/disabled.js","/Users/mfrohberg/2U/open_source/ally.js/src/maintain/focus-trapped.js","/Users/mfrohberg/2U/open_source/ally.js/src/maintain/hidden.js","/Users/mfrohberg/2U/open_source/ally.js/src/maintain/trap/capture-body.js","/Users/mfrohberg/2U/open_source/ally.js/src/maintain/trap/focusevent.js","/Users/mfrohberg/2U/open_source/ally.js/src/maintain/trap/keyevent.js","/Users/mfrohberg/2U/open_source/ally.js/src/maintain/trap/observe-body.js","/Users/mfrohberg/2U/open_source/ally.js/src/map/attribute.js","/Users/mfrohberg/2U/open_source/ally.js/src/map/keycode.js","/Users/mfrohberg/2U/open_source/ally.js/src/observe/interaction-type.js","/Users/mfrohberg/2U/open_source/ally.js/src/prototype/element.prototype.matches.js","/Users/mfrohberg/2U/open_source/ally.js/src/prototype/svgelement.prototype.focus.js","/Users/mfrohberg/2U/open_source/ally.js/src/query/first-tabbable.js","/Users/mfrohberg/2U/open_source/ally.js/src/query/focusable.js","/Users/mfrohberg/2U/open_source/ally.js/src/query/focusable.quick.js","/Users/mfrohberg/2U/open_source/ally.js/src/query/focusable.strict.js","/Users/mfrohberg/2U/open_source/ally.js/src/query/tabbable.js","/Users/mfrohberg/2U/open_source/ally.js/src/query/tabsequence.js","/Users/mfrohberg/2U/open_source/ally.js/src/selector/focusable.js","/Users/mfrohberg/2U/open_source/ally.js/src/style/focus-source.js","/Users/mfrohberg/2U/open_source/ally.js/src/style/focus-within.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/css-shadow-piercing-deep-combinator.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/detect-focus.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-area-tabindex.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-audio-without-controls.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-broken-image-map.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-children-of-focusable-flexbox.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-embed-tabindex.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-embed.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-fieldset-disabled.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-fieldset.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-img-ismap.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-img-usemap-tabindex.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-invalid-tabindex.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-label-tabindex.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-object-svg.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-scroll-body.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-scroll-container-without-overflow.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-scroll-container.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-summary.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-tabindex-trailing-characters.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-table.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focus-video-without-controls.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/focusout-event.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/supports-cache.js","/Users/mfrohberg/2U/open_source/ally.js/src/supports/svg-focus-method.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/compare-position.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/context-to-element.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/decorate-context.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/decorate-service.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/node-array.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/sort-elements-by-tabindex.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/tabindex-value.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/toggle-attribute-value.js","/Users/mfrohberg/2U/open_source/ally.js/src/util/visible-area.js","/Users/mfrohberg/2U/open_source/ally.js/src/version.js","/Users/mfrohberg/2U/open_source/ally.js/src/when/focusable.js","/Users/mfrohberg/2U/open_source/ally.js/src/when/key.js","/Users/mfrohberg/2U/open_source/ally.js/src/when/visible-area.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ally","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"Array","prototype","findIndex","predicate","list","Object","Math","max","toString","TypeError","thisArg","arguments","undefined","defineProperty","value","configurable","writable","root","CSS","InvalidCharacterError","message","name","escape","codeUnit","string","String","index","result","firstCodeUnit","charCodeAt","charAt","capitalize","toUpperCase","slice","cleanupOS","os","pattern","label","data","6.4","6.3","6.2","6.1","6.0","5.2","5.1","5.01","5.0","4.0","4.90","test","exec","replace","RegExp","format","split","each","object","callback","maxSafeInteger","forOwn","trim","key","hasOwnProperty","getClassOf","isHostType","property","type","qualify","reduce","array","accumulator","parse","ua","getLayout","guesses","guess","getManufacturer","product","getName","getOS","getProduct","getVersion","patterns","toStringPlatform","description","context","isCustomContext","nav","navigator","userAgent","isSpecialCasedOS","isModuleScope","thisBinding","oldRoot","likeChrome","objectClass","airRuntimeClass","enviroClass","javaClass","java","phantomClass","rhino","environment","alpha","beta","doc","document","opera","operamini","operaClass","reOpera","arch","prerelease","useFeatures","version","layout","manufacturer","Apple","iPad","iPhone","iPod","Amazon","Kindle","Kindle Fire","Asus","Transformer","Barnes & Noble","Nook","BlackBerry","PlayBook","Google","Google TV","HP","TouchPad","HTC","LG","Microsoft","Xbox","Xbox One","Motorola","Xoom","Nintendo","Wii U","Wii","Nokia","Lumia","Samsung","Galaxy S","Galaxy S2","Galaxy S3","Galaxy S4","Sony","PlayStation 4","PlayStation 3","PlayStation Vita","push","indexOf","parseFloat","unshift","lang","System","getProperty","system","join","process","platform","runtime","flash","Capabilities","phantom","major","minor","patch","documentMode","toFixed","appMinorVersion","external","parseInt","architecture","family","cpuClass","objectTypes","function","freeExports","freeModule","nodeType","freeGlobal","pow","objectProto","fix","pointerFocusChildren","_fixPointerFocusChildren2","pointerFocusInput","_fixPointerFocusInput2","pointerFocusParent","_fixPointerFocusParent2","style","focusSource","_styleFocusSource2","focusWithin","_styleFocusWithin2","maintain","disabled","_maintainDisabled2","focusTrapped","_maintainFocusTrapped2","hidden","_maintainHidden2","query","firstTabbable","_queryFirstTabbable2","focusable","_queryFocusable2","tabbable","_queryTabbable2","tabsequence","_queryTabsequence2","is","_isDisabled2","focusRelevant","_isFocusRelevant2","_isFocusable2","shadowed","_isShadowed2","_isTabbable2","validArea","_isValidArea2","validTabindex","_isValidTabindex2","visible","_isVisible2","element","_elementDisabled2","when","_whenFocusable2","_whenKey2","visibleArea","_whenVisibleArea2","get","insignificantBranches","_getInsignificantBranches2","map","attribute","_mapAttribute2","keycode","_mapKeycode2","_version2","disabledFocus","console","warn","disableTabindex","disabledState","tabIndex","_utilTabindexValue2","_utilToggleAttributeValue2","temporaryValue","saveValue","disableVideoControls","nodeName","toLowerCase","hasAttribute","setAttribute","removeAttribute","restoreControls","disableSvgFocusable","ownerSVGElement","setAriaDisabled","disableScriptFocus","focus","disablePointerEvents","pointerEvents","getAttribute","setElementDisabled","Node","ELEMENT_NODE","Boolean","currentState","runningAsGetter","_isNativeDisabledSupported2","engage","disengage","body","createShadowRoot","blurTimer","blurElement","handleFocusChange","stopHandleElementBlurEvent","handleElementBlurEvent","clearImmediate","clearTimeout","setImmediate","setTimeout","observeElementBlurEvent","addEventListener","removeEventListener","_active","_getActiveElements2","shadowFocusEvent","CustomEvent","bubbles","cancelable","detail","elements","active","hosts","dispatchEvent","handleDocumentFocusEvent","_utilDecorateService2","relevantToCurrentBrowser","_platform2","match","eventName","handleBeforeFocusEvent","event","target","_getFocusTarget2","display","getComputedStyle","getPropertyValue","reverse","children","visibility","transition","forEach","item","_utilDecorateContext2","inputPattern","handleMouseDownEvent","defaultPrevented","handleMouseUpEvent","walkToShadowedElement","activeElement","shadowRoot","walkFromShadowedElement","_shadowHostParents2","concat","_ref","_utilContextToElement2","_path","_getParents2","_firstFocusableIndex","queryInsignificantBranches","filter","containsFilteredElement","node","containsNode","_utilComparePosition","getParentComparator","parent","some","insiginificantBranches","CollectInsignificantBranchesFilter","NodeFilter","FILTER_REJECT","FILTER_ACCEPT","acceptNode","walker","createTreeWalker","SHOW_ELEMENT","nextNode","_ref2","_utilNodeArray2","documentElement","parentElement","_shadowHost2","container","parentNode","DOCUMENT_FRAGMENT_NODE","host","isDisabledFieldset","_nativeDisabledSupported2","_supportsFocusLabelTabindex2","_supportsFocusAreaTabindex2","_validArea2","_supportsFocusObjectSvg2","_validTabindex2","_supportsFocusEmbed2","_supportsFocusEmbedTabindex2","_supportsFocusAudioWithoutControls2","_supportsFocusVideoWithoutControls2","_supportsFocusSummary2","_supportsFocusImgUsemapTabindex2","_supportsFocusTable2","_supportsFocusFieldset2","_supportsSvgFocusMethod2","matches","_isUtil","isUserModifyWritable","_supportsFocusImgIsmap2","hasLinkParent","_supportsFocusScrollContainer2","_supportsFocusScrollContainerWithoutOverflow2","isScrollableContainer","hasCssOverflowScroll","_supportsFocusScrollBody2","_supportsFocusChildrenOfFocusableFlexbox2","parentStyle","_focusRelevant2","_disabled2","_onlyTabbable2","_visible2","userModify","webkitUserModify","overflow","offsetHeight","scrollHeight","offsetWidth","scrollWidth","getImageOfArea","href","querySelector","disabledElementsPattern","_supportsFocusFieldsetDisabled2","tabindex","SVGElement","_getShadowHost2","focusableElementsPattern","_tabindex","potentiallyTabbable","img","_parent","_supportsFocusBrokenImageMap2","complete","naturalHeight","childOfInteractive","_element","validIntegerPattern","_supportsFocusTabindexTrailingCharacters2","_supportsFocusInvalidTabindex2","computedStyle","notDisplayed","notVisible","collapsedParent","offset","open","notRenderedElementsPattern","isAudioWithoutControls","makeElementInert","undoElementInert","observerConfig","attributes","childList","subtree","attributeFilter","InertSubtree","_context","_filter","bind","handleMutation","renderInert","filterElements","includeContext","strategy","startObserver","querySelectorAll","_observer","disconnect","previous","current","isParentOfElement","includeSelf","MutationObserver","mutations","_this","observe","mutation","addedElements","addedNodes","addedFocusableElements","listQueryFocusable","filterContext","service","trapFocus","focusFirst","sequence","eventHandle","bodyFocusHandle","_handler","_trapFocusevent2","_event","_capture","trappedSequence","_sequence","handleEvent","compareDocumentPosition","_supportsFocusoutEvent2","_trapKeyevent2","_trapObserveBody2","focusTarget","makeElementHidden","undoElementHidden","HiddenSubtree","isInsignificantBranch","parents","handleFocusEvent","handleTrapByFocusEvent","unrelated","relatedTarget","ownerDocument","_captureBody2","DOCUMENT_POSITION_CONTAINED_BY","forward","DOCUMENT_POSITION_FOLLOWING","wrap","which","keyCode","tab","shiftKey","preventDefault","handleElementBlur","timer","blur","handleElementFocus","aria-busy","default","values","aria-checked","aria-disabled","aria-expanded","aria-grabbed","aria-hidden","aria-invalid","aria-pressed","aria-selected","aria-atomic","aria-autocomplete","aria-dropeffect","multiple","aria-haspopup","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-readonly","aria-relevant","aria-required","aria-sort","other","left","up","right","down","pageUp","pageDown","end","home","enter","space","shift","capsLock","ctrl","alt","command","pause","insert","delete","backspace","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","handleWindowBlurEvent","_activePointers","_activeKeys","handlePointerStartEvent","isPrimary","handlePointerEndEvent","touches","handleKeyStartEvent","handleKeyEndEvent","getInteractionType","pointer","pointerStartEvents","pointerEndEvents","Element","previousActiveElement","d","createElement","innerHTML","firstElementChild","HTMLElement","hasAutofocus","hasNoPositiveTabindex","ignoreAutofocus","defaultToContext","_tabbable2","_ref$strategy","DOCUMENT_NODE","_focusableQuick2","_focusableStrict2","queryFocusableQuick","_selectorFocusable2","queryFocusableStrict","PossiblyFocusableFilter","FocusableFilter","currentNode","_isOnlyTabbable2","FILTER_SKIP","_focusable2","moveContextToBeginning","pos","tmp","splice","_utilSortElementsByTabindex2","selector","_supportsCssShadowPiercingDeepCombinator2","source","focusEventName","interactionType","interactionTypeHandler","lock","next","blurEventName","used","classList","add","getCurrentFocusSource","getUsedFocusSource","repeatFocusSource","setNextFocusSource","lockFocusSource","keys","remove","shadowHandle","_eventShadowFocus2","_observeInteractionType2","repeat","script","initial","applyFocusWithinClass","className","_current","handleDocumentBlurEvent","handleShadowFocusEvent","testName","combinator","_supportsCache2","noArrowArrowArrow","noDeep","set","detectFocus","options","wrapper","appendChild","mutate","allowsFocus","validate","removeChild","_detectFocus2","support","svg","received","readLocalStorage","localStorage","getItem","JSON","writeLocalStorage","hasFocus","setItem","stringify","removeItem","cacheKey","cache","getFunctionName","func","hasElementFocus","hasNativeSvgFocus","destruct","initialize","noop","force","instances","_result","input","isArray","indexes","normal","_elements","sort","reduceRight","isNaN","temporaryAttribute","_value","getIntersectingRect","one","two","top","min","bottom","width","height","getViewportRect","innerWidth","clientWidth","innerHeight","clientHeight","getInnerBoundingClientRect","rect","getBoundingClientRect","scrollbarWidth","scrollbarHeight","_rect","area","isOverflowingElement","isScrollableElement","getScrollableParentRect","scrollingContainers","intersection","_viewport","_area","_container","_visible","maxArea","round","filterCallback","handle","_visibleArea2","mapKeys","handleKeyDown","_utilVisibleArea2","raf","cancelAnimationFrame","runWhenReady","requestAnimationFrame"],"mappings":"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C9Q,UAAA,GAA7B2E,EAAO2P,EAAP3P,QAAS5B,EAAQuR,EAARvR,SAAU6oB,EAAItX,EAAJsX,IAC1C,IAAwB,kBAAb7oB,GACT,KAAM,IAAIjD,WAAU,+DAGtB,IAAgBG,SAAZ0E,EACF,KAAM,IAAI7E,WAAU,mDAGF,iBAAT8rB,KACTA,EAAO,EAGT,IAAI/d,GAAUkI,EAAA,QAAUpR,GAAS,EACjC,KAAKkJ,EACH,KAAM,IAAI/N,WAAU,mDAGtB,IAAI8N,EAAA,QAAUC,IAAYgf,EAAA,QAAYhf,IAAY+d,GAAQ7oB,EAAS8K,MAAa,EAE9E,MAAO,KAGT,IAAIif,GAAG7sB,OACH6Q,EAAY,WACdgc,GAAOC,qBAAqBD,IAG1BE,EAAe,QAAfA,KACF,OAAKpf,EAAA,QAAUC,IAAYgf,EAAA,QAAYhf,GAAW+d,GAAQ7oB,EAAS8K,MAAa,OAC9Eif,EAAMG,sBAAsBD,QAI9Blc,KAIF,OADAkc,MACSlc,UAAAA;ApF3CX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;uCC9mCiC,8BAA8B;;;;oCACjC,2BAA2B;;;;qCAC1B,4BAA4B;;;;gCAEnC,sBAAsB;;;;gCACtB,sBAAsB;;;;gCAEjB,qBAAqB;;;;oCACjB,0BAA0B;;;;8BAChC,mBAAmB;;;;6BAEpB,kBAAkB;;;;uBACxB,YAAY;;;;+BACJ,qBAAqB;;;;8BAEtB,mBAAmB;;;;kCACf,wBAAwB;;;;6BAC7B,kBAAkB;;;;gCACf,qBAAqB;;;;0BAE7B,eAAe;;;;+BACV,qBAAqB;;;;2BACzB,gBAAgB;;;;0BACjB,eAAe;;;;0BACf,eAAe;;;;2BACd,iBAAiB;;;;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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Array.prototype.findIndex - MIT License (c) 2013 Paul Miller <http://paulmillr.com>\n// For all details and docs: <https://github.com/paulmillr/Array.prototype.findIndex>\n(function (globals) {\n  if (Array.prototype.findIndex) return;\n\n  var findIndex = function(predicate) {\n    var list = Object(this);\n    var length = Math.max(0, list.length) >>> 0; // ES.ToUint32;\n    if (length === 0) return -1;\n    if (typeof predicate !== 'function' || Object.prototype.toString.call(predicate) !== '[object Function]') {\n      throw new TypeError('Array#findIndex: predicate must be a function');\n    }\n    var thisArg = arguments.length > 1 ? arguments[1] : undefined;\n    for (var i = 0; i < length; i++) {\n      if (predicate.call(thisArg, list[i], i, list)) return i;\n    }\n    return -1;\n  };\n\n  if (Object.defineProperty) {\n    try {\n      Object.defineProperty(Array.prototype, 'findIndex', {\n        value: findIndex, configurable: true, writable: true\n      });\n    } catch(e) {}\n  }\n\n  if (!Array.prototype.findIndex) {\n    Array.prototype.findIndex = findIndex;\n  }\n}(this));\n","/*! https://mths.be/cssescape v1.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\tvar CSS = root.CSS;\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tif (!CSS.escape) {\n\t\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\t\tCSS.escape = function(value) {\n\t\t\tvar string = String(value);\n\t\t\tvar length = string.length;\n\t\t\tvar index = -1;\n\t\t\tvar codeUnit;\n\t\t\tvar result = '';\n\t\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\t\twhile (++index < length) {\n\t\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t\t// Note: theres no need to special-case astral symbols, surrogate\n\t\t\t\t// pairs, or lone surrogates.\n\n\t\t\t\t// If the character is NULL (U+0000), then throw an\n\t\t\t\t// `InvalidCharacterError` exception and terminate these steps.\n\t\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\t\tthrow new InvalidCharacterError(\n\t\t\t\t\t\t'Invalid character: the input contains U+0000.'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t\t// U+007F, []\n\t\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t\t// (U+0030 to U+0039), []\n\t\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), []\n\t\t\t\t\t(\n\t\t\t\t\t\tindex == 1 &&\n\t\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t\t// there is no second character, []\n\t\t\t\t\tindex == 0 &&\n\t\t\t\t\tlength == 1 &&\n\t\t\t\t\tcodeUnit == 0x002D\n\t\t\t\t) {\n\t\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), []\n\t\t\t\tif (\n\t\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t\t) {\n\t\t\t\t\t// the character itself\n\t\t\t\t\tresult += string.charAt(index);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise, the escaped character.\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t}\n\n}(typeof global != 'undefined' ? global : this));\n","/*!\n * Platform.js v1.3.0 <http://mths.be/platform>\n * Copyright 2010-2014 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <http://mths.be/mit>\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object` */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object */\n  var oldRoot = root;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Opera regexp */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object */\n  var thisBinding = this;\n\n  /** Used for native method references */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // platform tokens defined at\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '6.4':  '10',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // detect Windows version from platform tokens\n    if (pattern && label && /^Win/i.test(os) &&\n        (data = data[0/*Opera 9.25 fix*/, /[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // correct character case and cleanup\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object */\n    var context = root;\n\n    /** Used to flag when a custom context is provided */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // juggle arguments\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope] */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environment */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based)\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]` */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime */\n    var data;\n\n    /** The CPU architecture */\n    var arch = ua;\n\n    /** Platform description array */\n    var description = [];\n\n    /** Platform alpha/beta indicator */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important) */\n    var layout = getLayout([\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important) */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      'Midori',\n      'Nook Browser',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      'Sunrise',\n      'Swiftfox',\n      'WebPositive',\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chrome',\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important) */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nook',\n      'PlayBook',\n      'PlayStation 4',\n      'PlayStation 3',\n      'PlayStation Vita',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation 4': 1, 'PlayStation 3': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable OSes (order is important) */\n    var os = getOS([\n      'Windows Phone ',\n      'Android',\n      'CentOS',\n      'Debian',\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // lookup the manufacturer by product or scan the UA for the manufacturer\n        return result || (\n          value[product] ||\n          value[0/*Opera 9.25 fix*/, /^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // split by forward slash and append product version if needed\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // correct character case and cleanup\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // convert layout to an array so we can add extra details\n    layout && (layout = [layout]);\n\n    // detect product names that contain their manufacturer's name\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // clean up Google TV\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // detect simulators\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // detect iOS\n    if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // detect Kubuntu\n    else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // detect Android browsers\n    else if (manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // detect false positives for Firefox/Safari\n    else if (!name || (data = !/\\bMinefield\\b|\\(Android;/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // escape the `/` for Firefox 1\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // clear name of false positives\n        name = null;\n      }\n      // reassign a generic name\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // detect Firefox OS\n    if ((data = /\\((Mobile|Tablet).*?Firefox\\b/i.exec(ua)) && data[1]) {\n      os = 'Firefox OS';\n      if (!product) {\n        product = data[1];\n      }\n    }\n    // detect non-Opera versions (order is important)\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\\\d.]+$))',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // detect stubborn layout engines\n    if (layout == 'iCab' && parseFloat(version) > 3) {\n      layout = ['WebKit'];\n    } else if (\n        layout != 'Trident' &&\n        (data =\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident')\n        )\n    ) {\n      layout = [data];\n    }\n    // detect NetFront on PlayStation\n    else if (/\\bPlayStation\\b(?! Vita\\b)/i.test(name) && layout == 'WebKit') {\n      layout = ['NetFront'];\n    }\n    // detect Windows Phone 7 desktop mode\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // detect Windows Phone 8+ desktop mode\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8+';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // detect IE 11 and above\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (!/\\bWPDesktop\\b/i.test(ua)) {\n        if (name) {\n          description.push('identifying as ' + name + (version ? ' ' + version : ''));\n        }\n        name = 'IE';\n      }\n      version = data[1];\n    }\n    // detect IE Tech Preview\n    else if ((name == 'Chrome' || name != 'IE') && (data = /\\bEdge\\/([\\d.]+)/.exec(ua))) {\n      name = 'IE';\n      version = data[1];\n      layout = ['Trident'];\n      description.unshift('platform preview');\n    }\n    // leverage environment features\n    if (useFeatures) {\n      // detect server-side environments\n      // Rhino has a global function while others have a global object\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (isModuleScope && isHostType(context, 'system') && (data = [context.system])[0]) {\n          os || (os = data[0].os || null);\n          try {\n            data[1] = context.require('ringo/engine').version;\n            version = data[1].join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if (data[0].global.system == context.system) {\n              name = 'Narwhal';\n            }\n          }\n        }\n        else if (typeof context.process == 'object' && (data = context.process)) {\n          name = 'Node.js';\n          arch = data.arch;\n          os = data.platform;\n          version = /[\\d.]+/.exec(data.version)[0];\n        }\n        else if (rhino) {\n          name = 'Rhino';\n        }\n      }\n      // detect Adobe AIR\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // detect PhantomJS\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // detect IE compatibility modes\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // we're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      os = os && format(os);\n    }\n    // detect prerelease phases\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // detect Firefox Mobile\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // obscure Maxthon's unreliable version\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // detect Silk desktop/accelerated modes\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // detect Xbox 360 and Xbox One\n    else if (/\\bXbox\\b/i.test(product)) {\n      os = null;\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // add mobile postfix\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // detect IE platform preview\n    else if (name == 'IE' && useFeatures && context.external === null) {\n      description.unshift('platform preview');\n    }\n    // detect BlackBerry OS version\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // detect Opera identifying/masking itself as another browser\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && (\n          product != 'Wii' && (\n            (useFeatures && opera) ||\n            (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n            (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n            (name == 'IE' && (\n              (os && !/^Win/.test(os) && version > 5.5) ||\n              /\\bWindows XP\\b/.test(os) && version > 8 ||\n              version == 8 && !/\\bTrident\\b/.test(ua)\n            ))\n          )\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n\n      // when \"indentifying\", the UA contains both Opera and the other browser's name\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // when \"masking\", the UA contains only the other browser's name\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // detect WebKit Nightly and approximate Chrome/Safari versions\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // correct build for numeric comparison\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // nightly builds are postfixed with a `+`\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // clear incorrect browser versions\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // use the full Chrome version when available\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // detect Blink layout engine\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && name != 'IE') {\n        layout = ['Blink'];\n      }\n      // detect JavaScriptCore\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // add the postfix of \".x\" or \"+\" for approximate versions\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // obscure version for some Safari 1-2 releases\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // detect Opera desktop modes\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // detect Chrome desktop mode\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // strip incorrect OS versions\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // add layout engine\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(name) && layout[1])) {\n      // don't add layout details to description if they are falsey\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // combine contextual information\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // append manufacturer\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // append product\n    if (product) {\n      description.push((/^on /.test(description[description.length -1]) ? '' : 'on ') + product);\n    }\n    // parse OS into an object\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // add browser/OS architecture\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // export platform\n  // some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // define as an anonymous module so, through path mapping, it can be aliased\n    define(function() {\n      return parse();\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Narwhal, Node.js, Rhino -require, or RingoJS\n    forOwn(parse(), function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  // in a browser or Rhino\n  else {\n    root.platform = parse();\n  }\n}.call(this));\n","\nimport pointerFocusChildren from './fix/pointer-focus-children';\nimport pointerFocusInput from './fix/pointer-focus-input';\nimport pointerFocusParent from './fix/pointer-focus-parent';\n\nimport focusSource from './style/focus-source';\nimport focusWithin from './style/focus-within';\n\nimport maintainDisabled from './maintain/disabled';\nimport maintainFocusTrapped from './maintain/focus-trapped';\nimport maintainHidden from './maintain/hidden';\n\nimport whenFocusable from './when/focusable';\nimport whenKey from './when/key';\nimport whenVisibleArea from './when/visible-area';\n\nimport queryFocusable from './query/focusable';\nimport queryFirstTabbable from './query/first-tabbable';\nimport queryTabbable from './query/tabbable';\nimport queryTabsequence from './query/tabsequence';\n\nimport disabled from './is/disabled';\nimport focusRelevant from './is/focus-relevant';\nimport focusable from './is/focusable';\nimport shadowed from './is/shadowed';\nimport tabbable from './is/tabbable';\nimport validArea from './is/valid-area';\nimport validTabindex from './is/valid-tabindex';\nimport visible from './is/visible';\n\nimport elementDisabled from './element/disabled';\nimport insignificantBranches from './get/insignificant-branches';\n\nimport attribute from './map/attribute';\nimport keycode from './map/keycode';\n\nimport version from './version';\n\nexport default {\n  fix: {\n    pointerFocusChildren,\n    pointerFocusInput,\n    pointerFocusParent,\n  },\n\n  style: {\n    focusSource,\n    focusWithin,\n  },\n\n  maintain: {\n    disabled: maintainDisabled,\n    focusTrapped: maintainFocusTrapped,\n    hidden: maintainHidden,\n  },\n\n  query: {\n    firstTabbable: queryFirstTabbable,\n    focusable: queryFocusable,\n    tabbable: queryTabbable,\n    tabsequence: queryTabsequence,\n  },\n\n  is: {\n    disabled,\n    focusRelevant,\n    focusable,\n    shadowed,\n    tabbable,\n    validArea,\n    validTabindex,\n    visible,\n  },\n\n  element: {\n    disabled: elementDisabled,\n  },\n\n  when: {\n    focusable: whenFocusable,\n    key: whenKey,\n    visibleArea: whenVisibleArea,\n  },\n\n  get: {\n    insignificantBranches,\n  },\n\n  map: {\n    attribute,\n    keycode,\n  },\n\n  version,\n};\n","\n/*\n  Utility to make any element inert (disabled). Inert means the elements cannot be interacted\n  with and they cannot be focused via script, pointer or keyboard - and thus not receive focus.\n\n  Elements made inert (disabled) by this utility are given the attribute [data-ally-disabled=\"true\"].\n\n  ---------------\n\n  inert attribute was [removed](https://html5.org/r/8536) [tweet by steve](https://twitter.com/stevefaulkner/status/443075900201259008)\n  but definition of [inert subtrees](http://www.w3.org/html/wg/drafts/html/master/editing.html#inert-subtrees) remains.\n\n  [implementation idea by Vasilis](http://codepen.io/vasilisvg/pen/scowI)\n  [inert attribute polyfill by GoogleChrome](https://github.com/GoogleChrome/inert-polyfill)\n\n  [Gecko Bug: Inert Attribute](https://bugzilla.mozilla.org/show_bug.cgi?id=921504)\n  [Chromium Bug: Inert Attribute](https://code.google.com/p/chromium/issues/detail?id=269846)\n  [Chromium Bug: Inert Subtree](https://code.google.com/p/chromium/issues/detail?id=241699)\n  [WebKit Bug: Inert Subtree](https://bugs.webkit.org/show_bug.cgi?id=110952)\n*/\n\nimport tabindexValue from '../util/tabindex-value';\nimport isNativeDisabledSupported from '../is/native-disabled-supported';\nimport toggleAttributeValue from '../util/toggle-attribute-value';\n\nfunction disabledFocus() {\n  /*eslint-disable no-console */\n  console.warn('trying to focus inert element', this);\n  /*eslint-enable no-console */\n}\n\nfunction disableTabindex(element, disabledState) {\n  if (disabledState) {\n    const tabIndex = tabindexValue(element);\n    toggleAttributeValue({\n      element,\n      attribute: 'tabindex',\n      temporaryValue: '-1',\n      saveValue: tabIndex !== null ? tabIndex : '',\n    });\n  } else {\n    toggleAttributeValue({\n      element,\n      attribute: 'tabindex',\n    });\n  }\n}\n\nfunction disableVideoControls(element, disabledState) {\n  // Chrome leaves <video controls tabindex=\"-1\"> in document focus navigation sequence\n  const nodeName = element.nodeName.toLowerCase();\n  if (nodeName !== 'video' && nodeName !== 'audio') {\n    return;\n  }\n\n  if (disabledState) {\n    if (element.hasAttribute('controls')) {\n      element.setAttribute('data-inert-controls', '');\n      element.removeAttribute('controls');\n    }\n  } else {\n    const restoreControls = element.hasAttribute('data-inert-controls');\n    if (restoreControls) {\n      element.removeAttribute('data-inert-controls');\n      element.setAttribute('controls', '');\n    }\n  }\n}\n\nfunction disableSvgFocusable(element, disabledState) {\n  const nodeName = element.nodeName.toLowerCase();\n  if (nodeName !== 'svg' && !element.ownerSVGElement) {\n    return;\n  }\n\n  toggleAttributeValue({\n    element,\n    attribute: 'focusable',\n    temporaryValue: disabledState ? 'false' : undefined,\n  });\n}\n\nfunction setAriaDisabled(element, disabledState) {\n  toggleAttributeValue({\n    element,\n    attribute: 'aria-disabled',\n    temporaryValue: disabledState ? 'true' : undefined,\n  });\n}\n\nfunction disableScriptFocus(element, disabledState) {\n  if (disabledState) {\n    // make sure no script can focus the element\n    element.focus = disabledFocus;\n  } else {\n    // restore original focus function from prototype\n    delete element.focus;\n  }\n}\n\nfunction disablePointerEvents(element, disabledState) {\n  if (disabledState) {\n    // remember previous pointer events status so we can restore it\n    const pointerEvents = element.style.pointerEvents || '';\n    element.setAttribute('data-inert-pointer-events', pointerEvents);\n    // make sure no pointer interaction can access the element\n    element.style.pointerEvents = 'none';\n  } else {\n    // restore to previous pointer interaction status\n    const pointerEvents = element.getAttribute('data-inert-pointer-events');\n    element.removeAttribute('data-inert-pointer-events');\n    element.style.pointerEvents = pointerEvents;\n  }\n}\n\nfunction setElementDisabled(element, disabledState) {\n  setAriaDisabled(element, disabledState);\n  disableTabindex(element, disabledState);\n  disableScriptFocus(element, disabledState);\n  disablePointerEvents(element, disabledState);\n  disableVideoControls(element, disabledState);\n  disableSvgFocusable(element, disabledState);\n\n  if (disabledState) {\n    element.setAttribute('data-ally-disabled', 'true');\n  } else {\n    element.removeAttribute('data-ally-disabled');\n  }\n}\n\nexport default function(element, disabledState) {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('element/disabled requires an argument of type Element');\n  }\n\n  // accept truthy/falsy values\n  disabledState = Boolean(disabledState);\n  const currentState = element.hasAttribute('data-ally-disabled');\n  // if there's no value to set, we're running as a getter\n  const runningAsGetter = arguments.length === 1;\n\n  if (isNativeDisabledSupported(element)) {\n    if (runningAsGetter) {\n      return element.disabled;\n    }\n\n    // form elements know the disabled attribute, which we shall use instead of our poor man's copy of it\n    element.disabled = disabledState;\n    return element;\n  }\n\n  if (runningAsGetter) {\n    return currentState;\n  }\n\n  if (currentState === disabledState) {\n    // no update necessary\n    return element;\n  }\n\n  setElementDisabled(element, disabledState);\n  return element;\n}\n","\n/*\n  Utility to observe focus changes within Shadow DOMs.\n\n  USAGE:\n    engage();\n    document.body.addEventListener('shadow-focus', function(event) {\n      // event.detail.elements: complete focus ancestry (array of nodes)\n      // event.detail.active: the actually focused element within the Shadow DOM\n      // event.detail.hosts: the shadow host ancestry of the active element\n    }, false);\n\n  Alternate implementation: https://github.com/cdata/focus-observer\n*/\n\nimport getActiveElements from '../get/active-elements';\nimport decorateService from '../util/decorate-service';\n\nlet engage;\nlet disengage;\n\nif (!document.body.createShadowRoot) {\n  // no need to initialize any of this if we don't have Shadow DOM available\n  engage = disengage = function() {};\n} else {\n  let blurTimer;\n  let blurElement;\n  let handleFocusChange;\n  let stopHandleElementBlurEvent;\n\n  const handleElementBlurEvent = function() {\n    stopHandleElementBlurEvent();\n    // abort any handlers that come from document blur handler\n    (window.clearImmediate || window.clearTimeout)(blurTimer);\n    blurTimer = (window.setImmediate || window.setTimeout)(function() {\n      handleFocusChange();\n    });\n  };\n\n  const observeElementBlurEvent = function(element) {\n    // call us when we're leaving the element\n    element.addEventListener('blur', handleElementBlurEvent, true);\n    blurElement = element;\n  };\n\n  stopHandleElementBlurEvent = function() {\n    // once() - sometimes I miss jQuery's simplicity\n    blurElement && blurElement.removeEventListener('blur', handleElementBlurEvent, true);\n    blurElement = null;\n  };\n\n  handleFocusChange = function() {\n    const _active = getActiveElements();\n    if (_active.length === 1) {\n      stopHandleElementBlurEvent();\n      return;\n    }\n\n    // listen for blur so we know when to re-validate\n    observeElementBlurEvent(_active[0]);\n    const shadowFocusEvent = new CustomEvent('shadow-focus', {\n      bubbles: false,\n      cancelable: false,\n      detail: {\n        // complete focus ancestry\n        elements: _active,\n        // the actually focused element\n        active: _active[0],\n        // shadow host ancestry\n        hosts: _active.slice(1),\n      },\n    });\n\n    document.dispatchEvent(shadowFocusEvent);\n  };\n\n  const handleDocumentFocusEvent = function() {\n    (window.clearImmediate || window.clearTimeout)(blurTimer);\n    handleFocusChange();\n  };\n\n  engage = function() {\n    document.addEventListener('focus', handleDocumentFocusEvent, true);\n  };\n\n  disengage = function() {\n    (window.clearImmediate || window.clearTimeout)(blurTimer);\n    blurElement && blurElement.removeEventListener('blur', handleElementBlurEvent, true);\n    document.removeEventListener('focus', handleDocumentFocusEvent, true);\n  };\n}\n\nexport default decorateService({ engage, disengage });\n","/*\n  Children of focusable elements with display:flex are focusable.\n  Because focus can be given to focusable (not tabbable) elements\n  by mouse, we have to counter this behavior, so the correct element\n  becomes the activeElement (i.e. receives focus).\n\n  Example:\n    <div tabindex=\"-1\" style=\"display:flex\">\n      <span>I would receive focus</span>\n    </div>\n\n  This (wrong) behavior was observed in Internet Explorer 10 and 11.\n  It is fixed in IE12 (Win10 IE Tec Preview)\n*/\n\nimport platform from 'platform';\nimport getFocusTarget from '../get/focus-target';\nimport decorateContext from '../util/decorate-context';\n\nlet engage;\nlet disengage;\n// This fix is only relevant to IE10 (Trident/6) and IE11 (Trident/7)\nconst relevantToCurrentBrowser = platform.name === 'IE' && (platform.version.match(/^(10|11)\\./));\n// IE10 requires prefix, IE11 does not\nconst eventName = 'onpointerdown' in document ? 'pointerdown' : 'MSPointerDown';\n\nif (!relevantToCurrentBrowser) {\n  engage = function() {};\n} else {\n  const handleBeforeFocusEvent = function(event) {\n    // find the element that would receive focus\n    const target = getFocusTarget({context: event.target});\n    if (!target || target === event.target) {\n      // there's nothing to focus, or we're focusing the element clicked on\n      return;\n    }\n\n    // if the focus target does not have display:flex we're good\n    const display = window.getComputedStyle(target, null).getPropertyValue('display');\n    // flex, flexbox, -ms-flex, inline-flexbox (yeah, whatever)\n    if (display.indexOf('flex') === -1) {\n      return;\n    }\n\n    // hide all children, because hidden elements can't get focus\n    // remember previous element style (not necessarily computed style)\n    // to undo hiding later. Reset transitions as well, in case visibility\n    // is to be transitioned. This will effectively kill all transitions\n    // that are executed on mousedown / :active\n    const reverse = [].map.call(target.children, function(element) {\n      const visibility = element.style.visibility || '';\n      const transition = element.style.transition || '';\n      element.style.visibility = 'hidden';\n      element.style.transition = 'none';\n      return [element, visibility, transition];\n    });\n\n    // add cleanup (undo hide) to the RunLoop\n    window.setImmediate(function() {\n      reverse.forEach(function(item) {\n        item[0].style.visibility = item[1];\n        item[0].style.transition = item[2];\n      });\n    });\n  };\n\n  engage = function(element) {\n    element.addEventListener(eventName, handleBeforeFocusEvent, true);\n  };\n\n  disengage = function(element) {\n    element.removeEventListener(eventName, handleBeforeFocusEvent, true);\n  };\n}\n\nexport default decorateContext({ engage, disengage });\n","/*\n  Clicking on form field does not necessarily assign it focus in Safari and Firefox on Mac OS X.\n  While not a browser bug, it may be considered undesired behavior.\n\n  https://bugs.webkit.org/show_bug.cgi?id=22261\n  https://bugs.webkit.org/show_bug.cgi?id=118043\n\n  Note: This behavior can be turned off in Firefox by changing the\n  option `accessibility.mouse_focuses_formcontrol` in about:config\n*/\n\nimport platform from 'platform';\nimport decorateContext from '../util/decorate-context';\n\nlet engage;\nlet disengage;\n// This fix is only relevant to Safari and Firefox on OSX\nconst relevantToCurrentBrowser = platform.os.family === 'OS X'\n  && (platform.layout === 'Gecko' || platform.layout === 'WebKit');\n\nif (!relevantToCurrentBrowser) {\n  engage = function() {};\n} else {\n  const inputPattern = /^(input|button)$/;\n\n  const handleMouseDownEvent = function(event) {\n    if (event.defaultPrevented || !event.target.nodeName.toLowerCase().match(inputPattern)) {\n      // abort if the mousedown event was cancelled\n      return;\n    }\n\n    // we need to set focus AFTER the mousedown finished, otherwise WebKit will ignore the call\n    (window.setImmediate || window.setTimeout)(function() {\n      event.target.focus();\n    });\n  };\n\n  const handleMouseUpEvent = function(event) {\n    if (event.defaultPrevented || event.target.nodeName.toLowerCase() !== 'label') {\n      // abort if the mouseup event was cancelled\n      return;\n    }\n\n    // <label> will redirect focus to the appropriate input element on its own\n    event.target.focus();\n  };\n\n  engage = function(element) {\n    element.addEventListener('mousedown', handleMouseDownEvent, false);\n    // <label> elements redirect focus upon mouseup, not mousedown\n    element.addEventListener('mouseup', handleMouseUpEvent, false);\n  };\n\n  disengage = function(element) {\n    element.removeEventListener('mousedown', handleMouseDownEvent, false);\n    element.removeEventListener('mouseup', handleMouseUpEvent, false);\n  };\n}\n\nexport default decorateContext({ engage, disengage });\n","/*\n  Clicking on a link that has a focusable element in its ancestry [tabindex=\"-1\"],\n  can lead to that parental element gaining focus, instead of the link.\n\n  Example:\n    <div tabindex=\"-1\">\n      <a href=\"#foo\">click me</a>\n    </div>\n\n  This (wrong) behavior was observed in Chrome 38, iOS8, Safari 6.2, WebKit r175131\n  It is not a problem in Firefox 33, Internet Explorer 11, Chrome 39.\n*/\n\nimport platform from 'platform';\nimport getFocusTarget from '../get/focus-target';\nimport isValidTabIndex from '../is/valid-tabindex';\nimport decorateContext from '../util/decorate-context';\n\nlet engage;\nlet disengage;\n// This fix is only relevant to WebKit\nconst relevantToCurrentBrowser = platform.layout === 'WebKit';\n\nif (!relevantToCurrentBrowser) {\n  engage = function() {};\n} else {\n  // add [tabindex=\"0\"] to the (focusable) element that is about to be clicked\n  // if it does not already have an explicit tabindex (attribute).\n  // By applying an explicit tabindex, WebKit will not go look for\n  // the first valid tabindex in the element's parents.\n  const handleBeforeFocusEvent = function(event) {\n    // find the element that would receive focus\n    const target = getFocusTarget({context: event.target});\n    if (!target || target.hasAttribute('tabindex') && isValidTabIndex(target)) {\n      // there's nothing to focus, or the element already has tabindex, we're good\n      return;\n    }\n\n    // assign explicit tabindex, as implicit tabindex is the problem\n    target.setAttribute('tabindex', 0);\n\n    // add cleanup to the RunLoop\n    (window.setImmediate || window.setTimeout)(function() {\n      target.removeAttribute('tabindex');\n    }, 0);\n  };\n\n  engage = function(element) {\n    element.addEventListener('mousedown', handleBeforeFocusEvent, true);\n    element.addEventListener('touchstart', handleBeforeFocusEvent, true);\n  };\n\n  disengage = function(element) {\n    element.removeEventListener('mousedown', handleBeforeFocusEvent, true);\n    element.removeEventListener('touchstart', handleBeforeFocusEvent, true);\n  };\n}\n\nexport default decorateContext({ engage, disengage });\n","\n// [0] always is the actual active element (even within web-components)\n// [0+n] is the hierarchy of shadow-doms with [length -1] being the top most shadow-host\n\nimport isShadowed from '../is/shadowed';\nimport getShadowHostParents from './shadow-host-parents';\n\nfunction walkToShadowedElement() {\n  var list = [document.activeElement];\n\n  while (list[0] && list[0].shadowRoot) {\n    list.unshift(list[0].shadowRoot.activeElement);\n  }\n\n  return list;\n}\n\nfunction walkFromShadowedElement() {\n  var hosts = getShadowHostParents({context: document.activeElement});\n  return [document.activeElement].concat(hosts);\n}\n\nexport default function() {\n  if (document.activeElement === null) {\n    // IE10 does not redirect focus to <body> when the activeElement is removed\n    document.body.focus();\n  }\n\n  // Firefox currently leaks the shadowed element\n  // @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1117535\n  if (isShadowed(document.activeElement)) {\n    return walkFromShadowedElement();\n  }\n\n  return walkToShadowedElement();\n}\n","\n/*\n  Identify the first focusable element in the element's ancestry, including itself\n*/\n\nimport 'array.prototype.findindex';\nimport getParents from '../get/parents';\nimport isFocusable from '../is/focusable';\nimport contextToElement from '../util/context-to-element';\n\nexport default function({context} = {}) {\n  const element = contextToElement({\n    message: 'get/focus-target requires valid options.context',\n    context,\n  });\n\n  // trivial ejection check\n  if (isFocusable(element)) {\n    return element;\n  }\n\n  // obtain the element's ancestry\n  var _path = getParents({context: element}).slice(1);\n  // find the first element that is actually focusable\n  var _firstFocusableIndex = _path.findIndex(isFocusable);\n  return _path[_firstFocusableIndex] || null;\n}\n","\n// find all highest elements within context that do not contain any of the filter elements.\n// (basically the tree minus the parent paths of each filtered element reduced to the top most nodes)\n// originally inspired by Marcy Sutton's Material Dialog Component:\n// https://github.com/angular/material/blob/v0.11.1/src/components/dialog/dialog.js#L748-L783\n// to avoid this behavior: http://marcysutton.com/slides/mobile-a11y-seattlejs/#/36\n\nimport nodeArray from '../util/node-array';\nimport {getParentComparator} from '../util/compare-position';\n\nfunction queryInsignificantBranches({context, filter}) {\n  const containsFilteredElement = function(node) {\n    const containsNode = getParentComparator({parent: node});\n    return filter.some(containsNode);\n  };\n\n  // We'd use a Set() for this, if we could\n  const insiginificantBranches = [];\n\n  // see https://developer.mozilla.org/en-US/docs/Web/API/NodeFilter\n  const CollectInsignificantBranchesFilter = function(node) {\n    if (filter.some(element => node === element)) {\n      // we've hit a filtered element and can ignore its children\n      return NodeFilter.FILTER_REJECT;\n    }\n\n    if (containsFilteredElement(node)) {\n      // we've hit a significant tree, so we'll have to keep investigating\n      return NodeFilter.FILTER_ACCEPT;\n    }\n\n    // we've found an insignificant tree\n    insiginificantBranches.push(node);\n    return NodeFilter.FILTER_REJECT;\n  };\n  // IE requires a function, Browsers require {acceptNode: function}\n  // see http://www.bennadel.com/blog/2607-finding-html-comment-nodes-in-the-dom-using-treewalker.htm\n  CollectInsignificantBranchesFilter.acceptNode = CollectInsignificantBranchesFilter;\n\n  // see https://developer.mozilla.org/en-US/docs/Web/API/Document/createTreeWalker\n  const walker = document.createTreeWalker(\n    // root element to start search in\n    context,\n    // element type filter\n    NodeFilter.SHOW_ELEMENT,\n    // custom NodeFilter filter\n    CollectInsignificantBranchesFilter,\n    // deprecated, but IE requires it\n    false\n  );\n\n  while (walker.nextNode()) {\n    // collection things is happening through the filter method\n  }\n\n  return insiginificantBranches;\n}\n\nexport default function({context, filter} = {}) {\n  context = nodeArray(context || document.documentElement)[0];\n  filter = nodeArray(filter);\n\n  if (!filter.length) {\n    throw new TypeError('get/insignificant-branches requires valid options.filter');\n  }\n\n  return queryInsignificantBranches({\n    context,\n    filter,\n  });\n}\n","\nimport contextToElement from '../util/context-to-element';\n\n// [elem, elem.parent, elem.parent.parent, , html]\n// will not contain the shadowRoot (DOCUMENT_FRAGMENT_NODE) and shadowHost\nexport default function({context} = {}) {\n  const list = [];\n  let element = contextToElement({\n    message: 'get/parents requires valid options.context',\n    context,\n  });\n\n  while (element) {\n    list.push(element);\n    element = element.parentElement;\n  }\n\n  return list;\n}\n","\nimport getShadowHost from './shadow-host';\nimport contextToElement from '../util/context-to-element';\n\nexport default function({context} = {}) {\n  const list = [];\n  let element = contextToElement({\n    message: 'get/shadow-host-parents requires valid options.context',\n    context,\n  });\n\n  while (element) {\n    element = getShadowHost({context: element});\n    if (!element) {\n      break;\n    }\n\n    list.push(element);\n  }\n\n  return list;\n}\n","\nimport nodeArray from '../util/node-array';\n\nexport default function({context} = {}) {\n  let element = nodeArray(context)[0];\n  if (!element) {\n    throw new TypeError('get/shadow-host requires valid options.context');\n  }\n\n  // walk up to the root\n  let container = null;\n\n  while (element) {\n    container = element;\n    element = element.parentNode;\n  }\n\n  if (!container) {\n    return null;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node.nodeType\n  // NOTE: Firefox 34 does not expose ShadowRoot.host (but 37 does)\n  if (container.nodeType === container.DOCUMENT_FRAGMENT_NODE && container.host) {\n    // the root is attached to a fragment node that has a host\n    return container.host;\n  }\n\n  return null;\n}\n","\n// Determine if an element is disabled (i.e. not editable)\n\nimport getParents from '../get/parents';\nimport isNativeDisabledSupported from './native-disabled-supported';\n\nfunction isDisabledFieldset(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'fieldset' && element.disabled;\n}\n\nexport default function(element) {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/disabled requires an argument of type Element');\n  }\n\n  if (element.hasAttribute('data-ally-disabled')) {\n    // treat ally's element/disabled like the DOM native element.disabled\n    return true;\n  }\n\n  if (!isNativeDisabledSupported(element)) {\n    // non-form elements do not support the disabled attribute\n    return false;\n  }\n\n  if (element.disabled) {\n    // the element itself is disabled\n    return true;\n  }\n\n  if (getParents({context: element}).some(isDisabledFieldset)) {\n    // a parental <fieldset> is disabld and inherits the state onto this element\n    return true;\n  }\n\n  return false;\n}\n","\n// determine if an element can be focused by script regardless\n// of the element actually being focusable at the time of execution\n// i.e. <input disabled> is conisdered focus-relevant, but not focusable\n\nimport '../prototype/svgelement.prototype.focus';\nimport '../prototype/element.prototype.matches';\nimport getParents from '../get/parents';\nimport isValidTabindex from './valid-tabindex';\nimport isValidArea from './valid-area';\nimport {\n  hasCssOverflowScroll,\n  isScrollableContainer,\n  isUserModifyWritable,\n} from './is.util';\n\nimport canFocusAreaTabindex from '../supports/focus-area-tabindex';\nimport canFocusAudioWithoutControls from '../supports/focus-audio-without-controls';\nimport canFocusChildrenOfFocusableFlexbox from '../supports/focus-children-of-focusable-flexbox';\nimport canFocusEmbed from '../supports/focus-embed';\nimport canFocusEmbedTabindex from '../supports/focus-embed-tabindex';\nimport canFocusFieldset from '../supports/focus-fieldset';\nimport canFocusImgIsmap from '../supports/focus-img-ismap';\nimport canFocusImgUsemapTabindex from '../supports/focus-img-usemap-tabindex';\nimport canFocusLabelTabindex from '../supports/focus-label-tabindex';\nimport canFocusObjectSvg from '../supports/focus-object-svg';\nimport canFocusScrollBody from '../supports/focus-scroll-body';\nimport canFocusScrollContainer from '../supports/focus-scroll-container';\nimport canFocusScrollContainerWithoutOverflow from '../supports/focus-scroll-container-without-overflow';\nimport canFocusSummary from '../supports/focus-summary';\nimport canFocusSvgMethod from '../supports/svg-focus-method';\nimport canFocusTable from '../supports/focus-table';\nimport canFocusVideoWithoutControls from '../supports/focus-video-without-controls';\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/focus-relevant requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n\n  if (nodeName === 'input' && element.type === 'hidden') {\n    // input[type=\"hidden\"] cannot be focused\n    return false;\n  }\n\n  if (nodeName === 'input' || nodeName === 'select' || nodeName === 'button' || nodeName === 'textarea') {\n    return true;\n  }\n\n  if (nodeName === 'label' && !canFocusLabelTabindex) {\n    // <label tabindex=\"0\"> is only tabbable in Firefox, not script-focusable\n    // there's no way to make an element focusable other than by adding a tabindex,\n    // and focus behavior of the label element seems hard-wired to ignore tabindex\n    // in some browsers (like Gecko, Blink and WebKit)\n    return false;\n  }\n\n  if (nodeName === 'area') {\n    if (!canFocusAreaTabindex && element.hasAttribute('tabindex')) {\n      // Blink and WebKit do not consider <area tabindex=\"-1\" href=\"#void\"> focusable\n      return false;\n    }\n\n    return isValidArea(element);\n  }\n\n  if (nodeName === 'a' && element.hasAttribute('href')) {\n    return true;\n  }\n\n  if (nodeName === 'object' && element.hasAttribute('usemap')) {\n    // object[usemap] is not focusable in any browser\n    return false;\n  }\n\n  if (!canFocusObjectSvg && nodeName === 'object' && element.getAttribute('type') === 'image/svg+xml') {\n    // object[type=\"image/svg+xml\"] is not focusable in Internet Explorer\n    return false;\n  }\n\n  if (nodeName === 'iframe' || nodeName === 'object') {\n    // browsing context containers\n    return true;\n  }\n\n  const validTabindex = isValidTabindex(element);\n\n  if (nodeName === 'embed') {\n    if (canFocusEmbed || (canFocusEmbedTabindex && validTabindex)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  if (element.hasAttribute('contenteditable')) {\n    // also see CSS property user-modify below\n    return true;\n  }\n\n  if (nodeName === 'audio' && (canFocusAudioWithoutControls || element.hasAttribute('controls'))) {\n    return true;\n  }\n\n  if (nodeName === 'video' && (canFocusVideoWithoutControls || element.hasAttribute('controls'))) {\n    return true;\n  }\n\n  if (canFocusSummary && nodeName === 'summary') {\n    return true;\n  }\n\n  if (nodeName === 'img' && element.hasAttribute('usemap') && validTabindex) {\n    // Gecko, Trident and Edge do not allow an image with an image map and tabindex to be focused,\n    // it appears the tabindex is overruled so focus is still forwarded to the <map>\n    return canFocusImgUsemapTabindex;\n  }\n\n  if (canFocusTable && (nodeName === 'table' || nodeName === 'td')) {\n    // IE10-11 can focus <table> and <td>\n    return true;\n  }\n\n  if (canFocusFieldset && nodeName === 'fieldset') {\n    // IE10-11 can focus <fieldset>\n    return true;\n  }\n\n  if (nodeName === 'svg') {\n    if (!canFocusSvgMethod) {\n      // Firefox and IE cannot focus SVG elements because SVGElement.prototype.focus is missing\n      return false;\n    }\n    // NOTE: in Chrome this would be something like 'svg, svg *,' as *every* svg element with a focus event listener is focusable\n    return validTabindex;\n  }\n\n  if (element.matches('svg a[*|href]')) {\n    // Namespace problems of [xlink:href] explained in http://stackoverflow.com/a/23047888/515124\n    // Firefox cannot focus <svg> child elements from script\n    return canFocusSvgMethod;\n  }\n\n  // http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n  if (validTabindex) {\n    return true;\n  }\n\n  const style = window.getComputedStyle(element, null);\n  if (isUserModifyWritable(style)) {\n    return true;\n  }\n\n  if (canFocusImgIsmap && nodeName === 'img' && element.hasAttribute('ismap')) {\n    // IE10-11 considers the <img> in <a href><img ismap> focusable\n    // https://github.com/medialize/ally.js/issues/20\n    let hasLinkParent = getParents({context: element}).some(\n      parent => parent.nodeName.toLowerCase() === 'a' && parent.hasAttribute('href')\n    );\n\n    if (hasLinkParent) {\n      return true;\n    }\n  }\n\n  // https://github.com/medialize/ally.js/issues/21\n  if (canFocusScrollContainer) {\n    if (canFocusScrollContainerWithoutOverflow) {\n      // Internet Explorer does will consider the scrollable area focusable\n      // if the element is a <div> or a <span> and it is in fact scrollable,\n      // regardless of the CSS overflow property\n      if (isScrollableContainer(element, nodeName)) {\n        return true;\n      }\n    } else if (hasCssOverflowScroll(style)) {\n      // Firefox requires proper overflow setting, IE does not necessarily\n      // https://developer.mozilla.org/en-US/docs/Web/CSS/overflow\n      return true;\n    }\n  }\n\n  const parent = element.parentElement;\n  if (parent) {\n    if (canFocusScrollBody && isScrollableContainer(parent, nodeName)) {\n      // scrollable bodies are focusable Internet Explorer\n      // https://github.com/medialize/ally.js/issues/21\n      return true;\n    }\n\n    // Children of focusable elements with display:flex are focusable in IE10-11\n    if (canFocusChildrenOfFocusableFlexbox) {\n      const parentStyle = window.getComputedStyle(parent, null);\n      if (parentStyle.display.indexOf('flex') > -1) {\n        return true;\n      }\n    }\n  }\n\n  // NOTE: elements marked as inert are not focusable,\n  // but that property is not exposed to the DOM\n  // http://www.w3.org/TR/html5/editing.html#inert\n\n  return false;\n}\n","\n// determine if an element can be focused\n\n// http://www.w3.org/TR/html5/editing.html#focus-management\n\n// NOTE: The following known issues exist:\n//   Gecko: `svg a[xlink|href]` is not identified as focusable (because SVGElement.prototype.focus is missing)\n//   Blink, WebKit: SVGElements that have been made focusable by adding a focus event listener are not identified as focusable\n\nimport isFocusRelevant from './focus-relevant';\nimport isVisible from './visible';\nimport isDisabled from './disabled';\nimport isOnlyTabbable from './only-tabbable';\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/focusable requires an argument of type Element');\n  }\n\n  if (!isFocusRelevant(element)) {\n    return false;\n  }\n\n  if (isDisabled(element)) {\n    return false;\n  }\n\n  if (isOnlyTabbable(element)) {\n    // some elements may be keyboard focusable, but not script focusable\n    return false;\n  }\n\n  // elements that are not rendered, cannot be focused\n  if (!isVisible(element)) {\n    return false;\n  }\n\n  return true;\n}\n","\n// this is a shared utility file for focus-relevant.js and tabbable.js\n// separate testing of this file's functions is not necessary,\n// as they're implicitly tested by way of the consumers\n\nimport 'css.escape';\n\nexport function isUserModifyWritable(style) {\n  // http://www.w3.org/TR/1999/WD-css3-userint-19990916#user-modify\n  // https://github.com/medialize/ally.js/issues/17\n  const userModify = style.webkitUserModify || '';\n  return Boolean(userModify && userModify.indexOf('write') !== -1);\n}\n\nexport function hasCssOverflowScroll(style) {\n  return [\n    style.getPropertyValue('overflow'),\n    style.getPropertyValue('overflow-x'),\n    style.getPropertyValue('overflow-y'),\n  ].some(overflow => overflow === 'auto' || overflow === 'scroll');\n}\n\nexport function isScrollableContainer(element, nodeName) {\n  if (nodeName !== 'div' && nodeName !== 'span') {\n    // Internet Explorer advances scrollable containers and bodies to focusable\n    // only if the scrollable container is <div> or <span> - this does *not*\n    // happen for <section>, <article>, \n    return false;\n  }\n\n  return element.offsetHeight < element.scrollHeight || element.offsetWidth < element.scrollWidth;\n}\n\nexport function getImageOfArea(element) {\n  const map = element.parentElement;\n\n  // an <area> matches the area[href] selector even if it is not applicable\n  if (!map.name || !element.href || map.nodeName.toLowerCase() !== 'map') {\n    return null;\n  }\n\n  // NOTE: image maps can also be applied to <object> with image content,\n  // but no browser supports this at the moment\n\n  // HTML5 specifies HTMLMapElement.images to be an HTMLCollection of all\n  // <img> and <object> referencing the <map> element, but no browser implements this\n  //   http://www.w3.org/TR/html5/embedded-content-0.html#the-map-element\n  //   https://developer.mozilla.org/en-US/docs/Web/API/HTMLMapElement\n  // the image must be valid and loaded for the map to take effect\n  return document.querySelector('img[usemap=\"#' + CSS.escape(map.name) + '\"]') || null;\n}\n","\n// Determine if an element supports the disabled attribute\n\nimport canFocusDisabledFieldset from '../supports/focus-fieldset-disabled';\n\n// http://www.w3.org/TR/html5/disabled-elements.html#concept-element-disabled\nlet disabledElementsPattern = /^(input|select|textarea|button|fieldset)$/;\n\n// fieldset[tabindex=0][disabled] should not be focusable, but Blink and WebKit disagree\n// @specification http://www.w3.org/TR/html5/disabled-elements.html#concept-element-disabled\n// @browser-issue Chromium https://crbug.com/453847\n// @browser-issue WebKit https://bugs.webkit.org/show_bug.cgi?id=141086\nif (canFocusDisabledFieldset) {\n  disabledElementsPattern = /^(input|select|textarea|button)$/;\n}\n\nexport default function(element) {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/native-disabled-supported requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  return Boolean(disabledElementsPattern.test(nodeName));\n}\n","\nimport platform from 'platform';\nimport tabindexValue from '../util/tabindex-value';\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/only-tabbable requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  const tabindex = tabindexValue(element);\n\n  if (nodeName === 'label' && platform.name === 'Firefox') {\n    // Firefox cannot focus, but tab to: label[tabindex=0]\n    return tabindex !== null && tabindex >= 0;\n  }\n\n  if ((nodeName === 'object' || nodeName === 'embed') && element.getAttribute('type') === 'image/svg+xml' && platform.name === 'IE') {\n    // Internet Explorer cannot focus, but tab to: object[type=\"image/svg+xml\"]\n    // [tabindex=-1] negates the tabbing\n    return tabindex === null || tabindex >= 0;\n  }\n\n  if (nodeName === 'svg' && platform.name === 'IE') {\n    return element.getAttribute('focusable') !== 'false';\n  }\n\n  if (element instanceof SVGElement) {\n    if (nodeName === 'a' && element.hasAttribute('xlink:href')) {\n      // any focusable child of <svg> cannot be focused, but tabbed to\n      if (platform.name === 'Firefox') {\n        return true;\n      }\n      if (platform.name === 'IE') {\n        return element.getAttribute('focusable') !== 'false';\n      }\n    }\n    if (platform.name === 'IE') {\n      return element.getAttribute('focusable') === 'true';\n    }\n  }\n\n  return false;\n}\n","\n// determine if an element is the child of a ShadowRoot\n\nimport getShadowHost from '../get/shadow-host';\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/shadowed requires an argument of type Element');\n  }\n\n  return Boolean(getShadowHost({context: element}));\n}\n","\n// determine if an element can be focused by keyboard (i.e. is part of the document's sequential focus navigation order)\n\nimport platform from 'platform';\nimport tabindexValue from '../util/tabindex-value';\nimport {\n  getImageOfArea,\n  hasCssOverflowScroll,\n  isScrollableContainer,\n  isUserModifyWritable,\n} from './is.util';\n\n// Internet Explorer 11 considers fieldset, table, td focusable, but not tabbable\n// Internet Explorer 11 considers body to have [tabindex=0], but does not allow tabbing to it\nconst focusableElementsPattern = /^(fieldset|table|td|body)$/;\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/tabbable requires an argument of type Element');\n  }\n\n  if (platform.name === 'Chrome Mobile' && parseFloat(platform.version) > 42 && platform.os.family === 'Android') {\n    // External keyboard support worked fine in CHrome 42, but stopped working in Chrome 45.\n    // The on-screen keyboard does not provide a way to focus the next input element (like iOS does).\n    // That leaves us with no option to advance focus by keyboard, ergo nothing is tabbable (keyboard focusable).\n    return false;\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  const _tabindex = tabindexValue(element);\n  const tabindex = _tabindex === null ? null : _tabindex >= 0;\n\n  // NOTE: Firefox 31 considers [contenteditable] to have [tabindex=-1], but allows tabbing to it\n  // fixed in Firefox 40 the latest - https://bugzilla.mozilla.org/show_bug.cgi?id=1185657\n  if (element.hasAttribute('contenteditable')) {\n    // tabbing can still be disabled by explicitly providing [tabindex=\"-1\"]\n    return tabindex !== false;\n  }\n\n  if (focusableElementsPattern.test(nodeName) && tabindex !== true) {\n    return false;\n  }\n\n  // in Trident and Gecko SVGElement does not know about the tabIndex property\n  if (element.tabIndex === undefined) {\n    return false;\n  }\n\n  if (nodeName === 'audio') {\n    if (!element.hasAttribute('controls')) {\n      // In Internet Explorer the <audio> element is focusable, but not tabbable, and tabIndex property is wrong\n      return false;\n    } else if (platform.name === 'Chrome' || platform.name === 'Chrome Mobile') {\n      // In Chrome <audio controls tabindex=\"-1\"> remains keyboard focusable\n      return true;\n    }\n  }\n\n  if (nodeName === 'video') {\n    if (!element.hasAttribute('controls')) {\n      if (platform.name === 'IE') {\n        // In Internet Explorer the <video> element is focusable, but not tabbable, and tabIndex property is wrong\n        return false;\n      }\n    } else if (platform.name === 'Chrome' || platform.name === 'Firefox') {\n      // In Chrome and Firefox <video controls tabindex=\"-1\"> remains keyboard focusable\n      return true;\n    }\n  }\n\n  if (nodeName === 'embed' || nodeName === 'object') {\n    if (platform.layout === 'Blink' || platform.layout === 'WebKit') {\n      // In all Blink and WebKit based browsers <embed> and <object> are never keyboard focusable, even with tabindex=\"0\" set\n      return false;\n    }\n  }\n\n  if (platform.name === 'Safari' && parseFloat(platform.version) < 10 && platform.os.family === 'iOS') {\n    // iOS 8 only considers a hand full of elements tabbable (keyboard focusable)\n    // this holds true even with external keyboards\n    let potentiallyTabbable = (nodeName === 'input' && element.type === 'text' || element.type === 'password')\n      || nodeName === 'select'\n      || nodeName === 'textarea'\n      || element.hasAttribute('contenteditable');\n\n    if (!potentiallyTabbable) {\n      const style = window.getComputedStyle(element, null);\n      potentiallyTabbable = isUserModifyWritable(style);\n    }\n\n    if (!potentiallyTabbable) {\n      return false;\n    }\n  }\n\n  if (platform.name === 'Firefox') {\n    // Firefox considers scrollable containers keyboard focusable,\n    // even though their tabIndex property is -1\n    const style = window.getComputedStyle(element, null);\n    if (hasCssOverflowScroll(style)) {\n      // value of tabindex takes precedence\n      return tabindex !== false;\n    }\n  }\n\n  if (platform.name === 'IE') {\n    // IE degrades <area> to script focusable, if the image\n    // using the <map> has been given tabindex=\"-1\"\n    if (nodeName === 'area') {\n      const img = getImageOfArea(element);\n      if (img && tabindexValue(img) < 0) {\n        return false;\n      }\n    }\n\n    const style = window.getComputedStyle(element, null);\n    if (isUserModifyWritable(style)) {\n      // prevent being swallowed by the overzealous isScrollableContainer() below\n      return element.tabIndex >= 0;\n    }\n\n    // IE considers scrollable containers script focusable only,\n    // even though their tabIndex property is 0\n    if (isScrollableContainer(element, nodeName)) {\n      return false;\n    }\n\n    const parent = element.parentNode;\n    // IE considers scrollable bodies script focusable only,\n    if (isScrollableContainer(parent, nodeName)) {\n      return false;\n    }\n\n    // Children of focusable elements with display:flex are focusable in IE10-11,\n    // even though their tabIndex property suggests otherwise\n    const parentStyle = window.getComputedStyle(parent, null);\n    if (parentStyle.display.indexOf('flex') > -1) {\n      return false;\n    }\n  }\n\n  // http://www.w3.org/WAI/PF/aria-practices/#focus_tabindex\n  return element.tabIndex >= 0;\n}\n","\n// determine if an <area> element is being properly used by and <img> via a <map>\n\nimport isVisible from './visible';\nimport getParents from '../get/parents';\nimport canFocusBrokenImageMaps from '../supports/focus-broken-image-map';\nimport {getImageOfArea} from './is.util';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\n// https://github.com/jquery/jquery-ui/blob/master/ui/core.js#L88-L107\nexport default function(element) {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/valid-area requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  if (nodeName !== 'area') {\n    return false;\n  }\n\n  const img = getImageOfArea(element);\n  if (!img || !isVisible(img)) {\n    return false;\n  }\n\n  // Firefox only allows fully loaded images to reference image maps\n  // https://stereochro.me/ideas/detecting-broken-images-js\n  if (!canFocusBrokenImageMaps && (!img.complete || !img.naturalHeight || img.offsetWidth <= 0 || img.offsetHeight <= 0)) {\n    return false;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\n  const childOfInteractive = getParents({context: img}).slice(1).some(function(_element) {\n    const name = _element.nodeName.toLowerCase();\n    return name === 'button' || name === 'a';\n  });\n\n  if (childOfInteractive) {\n    return false;\n  }\n\n  return true;\n}\n","\n// determine if an element's tabindex attribute has a valid value\n\nimport allowsInvalidValue from '../supports/focus-invalid-tabindex';\nimport allowsTrailingCharacters from '../supports/focus-tabindex-trailing-characters';\n\n// http://www.w3.org/TR/html5/infrastructure.html#rules-for-parsing-integers\n// NOTE: all browsers agree to allow trailing spaces as well\nconst validIntegerPattern = allowsTrailingCharacters ? /^\\s*(-|\\+)?[0-9]+.*$/ : /^\\s*(-|\\+)?[0-9]+\\s*$/;\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/valid-tabindex requires an argument of type Element');\n  }\n\n  if (!element.hasAttribute('tabindex')) {\n    return false;\n  }\n\n  // SVGElement does not support tabIndex, so it cannot be considered valid\n  if (element.tabIndex === undefined) {\n    return false;\n  }\n\n  // @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\n  if (allowsInvalidValue) {\n    return true;\n  }\n  // an element matches the tabindex selector even if its value is invalid\n  const tabindex = element.getAttribute('tabindex');\n  // IE11 parses tabindex=\"\" as the value \"-32768\"\n  // @browser-issue Trident https://connect.microsoft.com/IE/feedback/details/1072965\n  if (tabindex === '-32768') {\n    return false;\n  }\n\n  return Boolean(tabindex && validIntegerPattern.test(tabindex));\n}\n","\n// determine if an element is rendered\n// NOTE: that does not mean an element is visible in the viewport, see util/visible-area\n\nimport 'array.prototype.findindex';\nimport getParents from '../get/parents';\n\n// http://www.w3.org/TR/html5/rendering.html#being-rendered\n// <area> is not rendered, but we *consider* it visible to simplfiy this function's usage\nconst notRenderedElementsPattern = /^(area)$/;\n\nfunction computedStyle(element, property) {\n  return window.getComputedStyle(element, null)\n    .getPropertyValue(property);\n}\n\nfunction notDisplayed(_path) {\n  return _path.some(function(element) {\n    // display:none is not visible (optimized away at layout)\n    return computedStyle(element, 'display') === 'none';\n  });\n}\n\nfunction notVisible(_path) {\n  // https://github.com/jquery/jquery-ui/blob/master/ui/core.js#L109-L114\n  // NOTE: a nested element can reverse visibility:hidden|collapse by explicitly setting visibility:visible\n  // NOTE: visibility can be [\"\", \"visible\", \"hidden\", \"collapse\"]\n  const hidden = _path.findIndex(function(element) {\n    const visibility = computedStyle(element, 'visibility');\n    return visibility === 'hidden' || visibility === 'collapse';\n  });\n\n  if (hidden === -1) {\n    // there is no hidden element\n    return false;\n  }\n\n  const visible = _path.findIndex(function(element) {\n    return computedStyle(element, 'visibility') === 'visible';\n  });\n\n  if (visible === -1) {\n    // there is no visible element (but a hidden element)\n    return true;\n  }\n\n  if (hidden < visible) {\n    // there is a hidden element and it's closer than the first visible element\n    return true;\n  }\n\n  // there may be a hidden element, but the closest element is visible\n  return false;\n}\n\nfunction collapsedParent(_path) {\n  let offset = 1;\n  if (_path[0].nodeName.toLowerCase() === 'summary') {\n    offset = 2;\n  }\n\n  return _path.slice(offset).some(function(element) {\n    // \"content children\" of a closed details element are not visible\n    return element.nodeName.toLowerCase() === 'details' && element.open === false;\n  });\n}\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/visible requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  if (notRenderedElementsPattern.test(nodeName)) {\n    return true;\n  }\n\n  const _path = getParents({context: element});\n\n  // in Internet Explorer <audio> has a default display: none, where others have display: inline\n  // but IE allows focusing <audio style=\"display:none\">, but not <div display:none><audio>\n  // this is irrelevant to other browsers, as the controls attribute is required to make <audio> focusable\n  const isAudioWithoutControls = nodeName === 'audio' && !element.hasAttribute('controls');\n  if (notDisplayed(isAudioWithoutControls ? _path.slice(1) : _path)) {\n    return false;\n  }\n\n  if (notVisible(_path)) {\n    return false;\n  }\n\n  if (collapsedParent(_path)) {\n    return false;\n  }\n\n  return true;\n}\n","\n/*\n  Utility to make a sub-tree of the DOM inert. Inert means the elements cannot be interacted\n  with and they cannot be focused via script, pointer or keyboard.\n\n  inert attribute was [removed](https://html5.org/r/8536) [tweet by steve](https://twitter.com/stevefaulkner/status/443075900201259008)\n  but definition of [inert subtrees](http://www.w3.org/html/wg/drafts/html/master/editing.html#inert-subtrees) remains.\n\n  [implementation idea by Vasilis](http://codepen.io/vasilisvg/pen/scowI)\n  [inert attribute polyfill by GoogleChrome](https://github.com/GoogleChrome/inert-polyfill)\n\n  [Gecko Bug: Inert Attribute](https://bugzilla.mozilla.org/show_bug.cgi?id=921504)\n  [Chromium Bug: Inert Attribute](https://code.google.com/p/chromium/issues/detail?id=269846)\n  [Chromium Bug: Inert Subtree](https://code.google.com/p/chromium/issues/detail?id=241699)\n  [WebKit Bug: Inert Subtree](https://bugs.webkit.org/show_bug.cgi?id=110952)\n*/\n\nimport nodeArray from '../util/node-array';\nimport queryFocusable from '../query/focusable';\nimport elementDisabled from '../element/disabled';\nimport {getParentComparator} from '../util/compare-position';\n\nfunction makeElementInert(element) {\n  return elementDisabled(element, true);\n}\n\nfunction undoElementInert(element) {\n  return elementDisabled(element, false);\n}\n\nconst observerConfig = {\n  attributes: true,\n  childList: true,\n  subtree: true,\n  attributeFilter: ['tabindex'],\n};\n\nclass InertSubtree {\n  constructor({context, filter} = {}) {\n    this._context = nodeArray(context || document.documentElement)[0];\n    this._filter = nodeArray(filter);\n\n    this.disengage = this.disengage.bind(this);\n    this.handleMutation = this.handleMutation.bind(this);\n    this.renderInert = this.renderInert.bind(this);\n    this.filterElements = this.filterElements.bind(this);\n\n    const focusable = queryFocusable({\n      context: this._context,\n      includeContext: true,\n      strategy: 'all',\n    });\n\n    this.renderInert(focusable);\n    this.startObserver();\n  }\n\n  disengage() {\n    if (!this._context) {\n      return;\n    }\n\n    undoElementInert(this._context);\n    [].forEach.call(this._context.querySelectorAll('[data-ally-disabled], :disabled'), undoElementInert);\n\n    this._filter = null;\n    this._context = null;\n    this._observer && this._observer.disconnect();\n    this._observer = null;\n  }\n\n  listQueryFocusable(list) {\n    return list\n      // find all focusable elements within the given contexts\n      .map(element => queryFocusable({context: element, includeContext: true, strategy: 'all'}))\n      // flatten nested arrays\n      .reduce((previous, current) => previous.concat(current), []);\n  }\n\n  renderInert(elements) {\n    elements.filter(this.filterElements).forEach(makeElementInert);\n  }\n\n  filterContext(element) {\n    // ignore elements that are not within the context sub-trees\n    const isParentOfElement = getParentComparator({element, includeSelf: true});\n    return isParentOfElement(this._context);\n  }\n\n  filterElements(element) {\n    if (element === document.body && !element.hasAttribute('tabindex')) {\n      // ignore the body (default focus element) unless it was made focusable\n      return false;\n    }\n\n    // ignore elements within the exempted sub-trees\n    const isParentOfElement = getParentComparator({element, includeSelf: true});\n    return !this._filter.some(isParentOfElement);\n  }\n\n  startObserver() {\n    if (!window.MutationObserver) {\n      // not supporting IE10 via Mutation Events, because they're too expensive\n      // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mutation_events\n      return;\n    }\n    // http://caniuse.com/#search=mutation\n    // https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n    this._observer = new MutationObserver(mutations => mutations.forEach(this.handleMutation));\n    this._observer.observe(this._context, observerConfig);\n  }\n\n  handleMutation(mutation) {\n    if (mutation.type === 'childList') {\n      const addedElements = nodeArray(mutation.addedNodes).filter(element => element.nodeType === Node.ELEMENT_NODE);\n      if (!addedElements.length) {\n        return;\n      }\n\n      const addedFocusableElements = this.listQueryFocusable(addedElements);\n      this.renderInert(addedFocusableElements);\n    } else if (mutation.type === 'attribute' && !this.filterElements(mutation.target) && this.filterContext(mutation.target)) {\n      makeElementInert(mutation.target);\n    }\n  }\n}\n\nexport default function({context, filter} = {}) {\n  var service = new InertSubtree({context, filter});\n  return { disengage: service.disengage };\n}\n","\n/*\n    NOTE: use maintain/disabled instead!\n\n    Trap focus within a given element, wrapping focus to first/last element when boundaries are hit.\n    This is useful when making sure that you cannot escape a modal dialog.\n\n    trapFocus(context) returns a function to disengage containing the focus.\n    This function is also exposed on context._untrapFocusHandler;\n\n    Having multiple (nested) contexts containing the focus is technically not possible.\n\n    Note: It is, unlike the native <dialog> implementation in Blink,\n    not possible to tab to the browser chrome while focusContain() is active.\n\n    see http://www.w3.org/WAI/PF/aria-practices/#trap_focus_div\n */\n\nimport queryTabbable from '../query/tabbable';\nimport queryFirstTabbable from '../query/first-tabbable';\nimport trapByFocusEvent from './trap/focusevent';\nimport trapByKeyEvent from './trap/keyevent';\nimport observeBodyFocus from './trap/observe-body';\nimport canDispatchFocusout from '../supports/focusout-event';\nimport contextToElement from '../util/context-to-element';\n\nexport default function trapFocus({context, focusFirst}) {\n  let element = contextToElement({\n    message: 'maintain/focus-trapped requires valid options.context',\n    context,\n  });\n\n  const sequence = queryTabbable({context: element});\n  if (!sequence.length) {\n    // cannot contain focus in something without anything to focus\n    return null;\n  }\n\n  let eventHandle;\n  let bodyFocusHandle;\n  let disengage;\n\n  let _handler = trapByFocusEvent;\n  let _event = 'focusout';\n  let _capture = true;\n\n  const trappedSequence = function() {\n    const _sequence = queryTabbable({context: element});\n    if (!_sequence.length) {\n      // the context might've become void meanwhile\n      disengage();\n      return false;\n    }\n\n    return _sequence;\n  };\n\n  const handleEvent = function(event) {\n    eventHandle = _handler({\n      trappedSequence,\n      element,\n      event,\n    });\n  };\n\n  disengage = function() {\n    element.removeEventListener(_event, handleEvent, _capture);\n    eventHandle && eventHandle.disengage();\n    bodyFocusHandle && bodyFocusHandle.disengage();\n    eventHandle = null;\n    bodyFocusHandle = null;\n    _handler = null;\n  };\n\n  // Gecko and Trident don't expose relatedTarget on blur events and it does not support focusout\n  // so there is no way to react to a focus event before it actually happened. We cannot\n  // focus another element in a focus handler, because that would emit two FocusEvents to\n  // the Accessibility API and cause screen readers to alert two focus changes where only\n  // one should've happened. That's why we intercept the KeyEvent and do things manually\n  //  Gecko: https://bugzilla.mozilla.org/show_bug.cgi?id=687787 (implement FocusEvent(focusout))\n  //  Gecko: https://bugzilla.mozilla.org/show_bug.cgi?id=962251 (no FocusEvent(blur).relatedTarget)\n  //  Trident: https://connect.microsoft.com/IE/Feedback/Details/814285 (no FocusEvent(blur).relatedTarget)\n  //  Blink: https://code.google.com/p/chromium/issues/detail?id=378163 (about to remove FocusEvent(focusout)?)\n  if (!element.compareDocumentPosition || !canDispatchFocusout) {\n    _handler = trapByKeyEvent;\n    _event = 'keydown';\n    _capture = false;\n    // unlike focusout the keyevents can't detect when context lost focus\n    bodyFocusHandle = observeBodyFocus({\n      trappedSequence,\n      element,\n    });\n  }\n\n  element.addEventListener(_event, handleEvent, _capture);\n\n  if (focusFirst) {\n    const focusTarget = queryFirstTabbable({ sequence });\n    focusTarget && focusTarget.focus();\n  }\n\n  return { disengage };\n}\n","\n// Utility to make the entire DOM aria-hidden=\"true\" except for a given set of elements\n\nimport nodeArray from '../util/node-array';\nimport getInsignificantBranches from '../get/insignificant-branches';\nimport getParents from '../get/parents';\nimport toggleAttributeValue from '../util/toggle-attribute-value';\nimport {getParentComparator} from '../util/compare-position';\n\nfunction makeElementHidden(element) {\n  toggleAttributeValue({\n    element,\n    attribute: 'aria-hidden',\n    temporaryValue: 'true',\n  });\n}\n\nfunction undoElementHidden(element) {\n  toggleAttributeValue({\n    element,\n    attribute: 'aria-hidden',\n  });\n}\n\nconst observerConfig = {\n  attributes: false,\n  childList: true,\n  subtree: true,\n};\n\nclass HiddenSubtree {\n  constructor({context, filter} = {}) {\n    this._context = nodeArray(context || document.documentElement)[0];\n    this._filter = nodeArray(filter);\n\n    this.disengage = this.disengage.bind(this);\n    this.handleMutation = this.handleMutation.bind(this);\n    this.isInsignificantBranch = this.isInsignificantBranch.bind(this);\n\n    const insignificantBranches = getInsignificantBranches({context: this._context, filter: this._filter});\n    insignificantBranches.forEach(makeElementHidden);\n    this.startObserver();\n  }\n\n  disengage() {\n    if (!this._context) {\n      return;\n    }\n\n    [].forEach.call(this._context.querySelectorAll('[data-cached-aria-hidden]'), undoElementHidden);\n\n    this._context = null;\n    this._filter = null;\n    this._observer && this._observer.disconnect();\n    this._observer = null;\n  }\n\n  startObserver() {\n    if (!window.MutationObserver) {\n      // not supporting IE10 via Mutation Events, because they're too expensive\n      // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mutation_events\n      return;\n    }\n    // http://caniuse.com/#search=mutation\n    // https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n    this._observer = new MutationObserver(mutations => mutations.forEach(this.handleMutation));\n    this._observer.observe(this._context, observerConfig);\n  }\n\n  handleMutation(mutation) {\n    if (mutation.type === 'childList') {\n      const addedElements = nodeArray(mutation.addedNodes).filter(element => element.nodeType === Node.ELEMENT_NODE);\n      if (!addedElements.length) {\n        return;\n      }\n\n      // a new branch cannot contain a filtered element\n      // (unless it is moved there, which is an edge-case we'll ignore for now),\n      // so anything that is within context,\n      // and not within a previously known insignificant branch and not within a filtered element,\n      // must be an insignificant branch as well\n      const insignificantBranches = addedElements.filter(this.isInsignificantBranch);\n      insignificantBranches.forEach(makeElementHidden);\n    }\n  }\n\n  isInsignificantBranch(element) {\n    const parents = getParents({context: element});\n    if (parents.some(_element => _element.getAttribute('aria-hidden') === 'true')) {\n      // element is child of a hidden element\n      return false;\n    }\n\n    const isParentOfElement = getParentComparator({element});\n    if (this._filter.some(isParentOfElement)) {\n      // element is a descendant of a filtered element\n      return false;\n    }\n\n    return true;\n  }\n}\n\nexport default function({context, filter} = {}) {\n  var service = new HiddenSubtree({context, filter});\n  return { disengage: service.disengage };\n}\n","\n// redirect the first focusin/focus event to the first tabbable element in context\nexport default function({eventName, trappedSequence}) {\n  let disengage;\n\n  const handleFocusEvent = function(event) {\n    if (event.target === document.body) {\n      return;\n    }\n\n    disengage();\n\n    const sequence = trappedSequence();\n    if (!sequence) {\n      return;\n    }\n\n    if (sequence.indexOf(event.target) !== -1) {\n      // we're focusing something in context, go back to sleep\n      return;\n    }\n\n    // we blindly go for the first element, mostly because we don't\n    // have any indication of direction at this point.\n    sequence[0].focus();\n  };\n\n  // redirect the first focus (away from <body>) back to context\n  document.addEventListener(eventName, handleFocusEvent, true);\n\n  disengage = function() {\n    document.removeEventListener(eventName, handleFocusEvent, true);\n  };\n\n  return { disengage };\n}\n","\nimport captureBodyFocus from './capture-body';\n\nexport default function handleTrapByFocusEvent({event, element, trappedSequence}) {\n  const unrelated = event.relatedTarget === null || event.relatedTarget === element.ownerDocument || event.relatedTarget === document.body;\n\n  // if there is no related target, we're focusing <body>, which is ok,\n  // but once <body> loses focus again, we need to retarget focus to context\n  if (unrelated) {\n    captureBodyFocus({\n      eventName: 'focusin',\n      trappedSequence,\n    });\n    return;\n  }\n\n  // Node.compareDocumentPosition is available since IE9\n  if (element.compareDocumentPosition(event.relatedTarget) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    // the focus target is within the context, all is fine, go back to sleep\n    return;\n  }\n\n  const sequence = trappedSequence();\n  if (!sequence) {\n    return;\n  }\n\n  // true if relatedTarget follows target in the DOM, false if it preceeds it\n  // true if there was no relatedTarget (forcing first element to be selected)\n  const forward = unrelated || event.target.compareDocumentPosition(event.relatedTarget) & Node.DOCUMENT_POSITION_FOLLOWING;\n  // jump to first or last element\n  const target = sequence[forward ? 0 : (sequence.length - 1)];\n  target.focus();\n}\n","\n/*\n    Intercept <kbd>Tab</kbd> and <kbd>Shift Tab</kbd> to change focus target when required.\n    This is a sub-optimal implementation that should only be used if either FocusEvent.relatedTarget\n    or Node.compareDocumentPosition are not supported properly.\n    If they are, go with contain-by-focusevent instead!\n */\n\nimport keycode from '../../map/keycode';\n\nfunction wrap(sequence, element, forward) {\n  if (sequence[0] === element && !forward) {\n    // is first element of sequence and we're going backwards\n    sequence[sequence.length - 1].focus();\n    return true;\n  } else if (sequence[sequence.length - 1] === element && forward) {\n    // is last element of sequence and we're going forward\n    sequence[0].focus();\n    return true;\n  } else if (sequence.indexOf(element) === -1) {\n    // target is not part of the sequence, go to first\n    sequence[0].focus();\n    return true;\n  }\n\n  // element is somewhere in the middle of the sequence, no need to interfere\n  return false;\n}\n\nexport default function({event, trappedSequence}) {\n  var code = event.which || event.keyCode;\n  if (code !== keycode.tab) {\n    return;\n  }\n\n  const sequence = trappedSequence();\n  if (!sequence) {\n    return;\n  }\n\n  if (wrap(sequence, event.target, !event.shiftKey)) {\n    event.preventDefault();\n  }\n}\n","\nimport captureBodyFocus from './capture-body';\n\n// as FocusEvent.relatedTarget is not reliable, we'll engage focus capturing via a timeout\n// that is aborted by focus - that way, only a blur that causes the <body> to receive focus\n// will trigger the focus capture\n// this is only necessary for KeyEvent handling, as focusout already covers this case\nexport default function({element, trappedSequence}) {\n  let timer;\n  let bodyFocusHandle;\n\n  // after events are handled and <body> has focus, make any focus redirect to the context\n  function handleElementBlur() {\n    timer = (window.setImmediate || window.setTimeout)(function() {\n      // this would allow focusing elements outside of context,\n      // but that should have been prevented by a non-click-through-backdrop anyway\n      // if (document.activeElement !== document.body) {\n      //   return;\n      // }\n\n      if (document.activeElement === null) {\n        // IE10 does not redirect focus to <body> when the activeElement is removed\n        document.body.focus();\n      }\n\n      if (element.compareDocumentPosition) {\n        if (element.compareDocumentPosition(document.activeElement) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n          // the focus target is within the context, all is fine, go back to sleep\n          return;\n        }\n      }\n\n      if (document.activeElement !== document.body) {\n        // we have focused something we were not supposed to be able to focus\n        // instead of forcing focus right back into context, we'll allow focus on <body>\n        document.activeElement.blur();\n      }\n\n      bodyFocusHandle = captureBodyFocus({\n        eventName: 'focus',\n        trappedSequence,\n      });\n    });\n  }\n\n  // disengage focus redirection registration initiated by the blur event\n  function handleElementFocus() {\n    (window.clearImmediate || window.clearTimeout)(timer);\n  }\n\n  element.addEventListener('blur', handleElementBlur, true);\n  element.addEventListener('focus', handleElementFocus, true);\n\n  const disengage = function() {\n    element.removeEventListener('blur', handleElementBlur, true);\n    element.removeEventListener('focus', handleElementFocus, true);\n    bodyFocusHandle && bodyFocusHandle.disengage();\n  };\n\n  return { disengage };\n}\n","\n/*\n  'property-name': {\n    'default': default value\n    values: list of possible values\n    'multiple': boolean, allows multiple values (space separated)\n    'other': boolean, allows other values than offered in values list\n  }\n*/\n\nexport default {\n  // aria state properties\n\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-busy\n  'aria-busy': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-checked\n  'aria-checked': {\n    'default': undefined,\n    values: ['true', 'false', 'mixed', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-disabled\n  'aria-disabled': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-expanded\n  'aria-expanded': {\n    'default': undefined,\n    values: ['true', 'false', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-grabbed\n  'aria-grabbed': {\n    'default': undefined,\n    values: ['true', 'false', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-hidden\n  'aria-hidden': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-invalid\n  'aria-invalid': {\n    'default': 'false',\n    values: ['true', 'false', 'grammar', 'spelling'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-pressed\n  'aria-pressed': {\n    'default': undefined,\n    values: ['true', 'false', 'mixed', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-selected\n  'aria-selected': {\n    'default': undefined,\n    values: ['true', 'false', undefined],\n  },\n\n  // aria descriptive properties\n\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-atomic\n  'aria-atomic': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n  'aria-autocomplete': {\n    'default': 'none',\n    values: ['inline', 'list', 'both', 'none'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-dropeffect\n  'aria-dropeffect': {\n    'default': 'none',\n    multiple: true,\n    values: ['copy', 'move', 'link', 'execute', 'popup', 'none'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-haspopup\n  'aria-haspopup': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-live\n  'aria-live': {\n    'default': 'off',\n    values: ['off', 'polite', 'assertive'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-multiline\n  'aria-multiline': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-multiselectable\n  'aria-multiselectable': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-orientation\n  'aria-orientation': {\n    'default': 'horizontal',\n    values: ['vertical', 'horizontal'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-readonly\n  'aria-readonly': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-relevant\n  'aria-relevant': {\n    'default': 'additions text',\n    multiple: true,\n    values: ['additions', 'removals', 'text', 'all'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-required\n  'aria-required': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-sort\n  'aria-sort': {\n    'default': 'none',\n    other: true,\n    values: ['ascending', 'descending', 'none'],\n  },\n};\n","\n// https://github.com/keithamus/jwerty/blob/master/jwerty.js\n\nexport default {\n  // Element Focus\n  tab: 9,\n\n  // Navigation\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  pageUp: 33,\n  pageDown: 34,\n  end: 35,\n  home: 36,\n\n  // Action\n  enter: 13,\n  escape: 27,\n  space: 32,\n\n  // Modifier\n  shift: 16,\n  capsLock: 20,\n  ctrl: 17,\n  alt: 18,\n  command: 224,\n  pause: 19,\n\n  // Content Manipulation\n  insert: 45,\n  'delete': 46,\n  backspace: 8,\n\n  // Special Function\n  f1: 112,\n  f2: 113,\n  f3: 114,\n  f4: 115,\n  f5: 116,\n  f6: 117,\n  f7: 118,\n  f8: 119,\n  f9: 120,\n  f10: 121,\n  f11: 122,\n  f12: 123,\n};\n","\n/*\n  Observe keyboard-, pointer-, mouse- and touch-events so that a query for\n  the current interaction type can be made at any time. For pointer interaction\n  this observer is limited to pointer button down/up - move is not observed!\n\n  USAGE:\n    var listener = engage();\n    listener.get() === {pointer: Boolean, key: Boolean}\n*/\n\nimport decorateService from '../util/decorate-service';\n\n// counters to track primary input\nlet _activePointers = 0;\nlet _activeKeys = 0;\n\nconst pointerStartEvents = [\n  'touchstart',\n  'pointerdown',\n  'MSPointerDown',\n  'mousedown',\n];\nconst pointerEndEvents = [\n  'touchend',\n  'touchcancel',\n  'pointerup',\n  'MSPointerUp',\n  'pointercancel',\n  'MSPointerCancel',\n  'mouseup',\n];\n\nfunction handleWindowBlurEvent() {\n  // reset internal counters when window loses focus\n  _activePointers = 0;\n  _activeKeys = 0;\n}\n\nfunction handlePointerStartEvent(event) {\n  if (event.isPrimary === false) {\n    // ignore non-primary pointer events\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\n    return;\n  }\n\n  // mousedown without following mouseup\n  // (likely not possible in Chrome)\n  _activePointers++;\n}\n\nfunction handlePointerEndEvent(event) {\n  if (event.isPrimary === false) {\n    // ignore non-primary pointer events\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\n    return;\n  } else if (event.touches) {\n    _activePointers = event.touches.length;\n    return;\n  }\n\n  // delay reset to when the current handlers are executed\n  (window.setImmediate || window.setTimeout)(function() {\n    // mouseup without prior mousedown\n    // (drag something out of the window)\n    _activePointers = Math.max(_activePointers - 1, 0);\n  });\n}\n\nfunction handleKeyStartEvent(event) {\n  // ignore modifier keys\n  switch (event.keyCode || event.which) {\n    case 16: // space\n    case 17: // control\n    case 18: // alt\n    case 91: // command left\n    case 93: // command right\n      return;\n  }\n\n  // keydown without a following keyup\n  // (may happen on CMD+TAB)\n  _activeKeys++;\n}\n\nfunction handleKeyEndEvent(event) {\n  // ignore modifier keys\n  switch (event.keyCode || event.which) {\n    case 16: // space\n    case 17: // control\n    case 18: // alt\n    case 91: // command left\n    case 93: // command right\n      return;\n  }\n\n  // delay reset to when the current handlers are executed\n  (window.setImmediate || window.setTimeout)(function() {\n    // keyup without prior keydown\n    // (may happen on CMD+R)\n    _activeKeys = Math.max(_activeKeys - 1, 0);\n  });\n}\n\nfunction getInteractionType() {\n  return {\n    pointer: Boolean(_activePointers),\n    key: Boolean(_activeKeys),\n  };\n}\n\nfunction disengage() {\n  _activePointers = _activeKeys = 0;\n  window.removeEventListener('blur', handleWindowBlurEvent, false);\n  document.documentElement.removeEventListener('keydown', handleKeyStartEvent, true);\n  document.documentElement.removeEventListener('keyup', handleKeyEndEvent, true);\n  pointerStartEvents.forEach(function(event) {\n    document.documentElement.removeEventListener(event, handlePointerStartEvent, true);\n  });\n  pointerEndEvents.forEach(function(event) {\n    document.documentElement.removeEventListener(event, handlePointerEndEvent, true);\n  });\n}\n\nfunction engage() {\n  // window blur must be in bubble phase so it won't capture regular blurs\n  window.addEventListener('blur', handleWindowBlurEvent, false);\n  // handlers to identify the method of focus change\n  document.documentElement.addEventListener('keydown', handleKeyStartEvent, true);\n  document.documentElement.addEventListener('keyup', handleKeyEndEvent, true);\n  pointerStartEvents.forEach(function(event) {\n    document.documentElement.addEventListener(event, handlePointerStartEvent, true);\n  });\n  pointerEndEvents.forEach(function(event) {\n    document.documentElement.addEventListener(event, handlePointerEndEvent, true);\n  });\n\n  return {\n    get: getInteractionType,\n  };\n}\n\nexport default decorateService({ engage, disengage });\n","\n// Element.prototype.matches may not be available under that name\n\nif (!Element.prototype.matches) {\n  // first try to unprefix an existing implementation\n  'webkitMatchesSelector mozMatchesSelector msMatchesSelector'.split(' ').some(function(key) {\n    if (!Element.prototype[key]) {\n      return false;\n    }\n\n    Element.prototype.matches = Element.prototype[key];\n    return true;\n  });\n}\n","\n// Firefox and IE11 do not \"properly\" inherit the focus() method.\n// That may be because SVGElement inherits from Element and focus() is defined on HTMLElement.\n// WebKit and Blink - probably by accident - defined focus() on Element, which is why focusing SVGElements works fine.\n\n// Firefox' focus() implementation validates the execution context, it demands being called on instances of HTMLElement,\n// which is why simply copying HTMLElement's focus over to SVGElement ends in the following exception:\n// TypeError: 'focus' called on an object that does not implement interface HTMLElement.\n// this works fine in IE11, though.\n\nif (!SVGElement.prototype.focus) {\n  // remember what had focus to restore after test\n  const previousActiveElement = document.activeElement;\n\n  try {\n    // create a dummy <svg> so we can check if HTMLElement's focus() can deal with it\n    const d = document.createElement('div');\n    d.innerHTML = '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\"></svg>';\n    const s = d.firstElementChild;\n    document.body.focus.call(s);\n    // HTMLElement's focus() can also deal with SVGElement, so go crazy!\n    SVGElement.prototype.focus = HTMLElement.prototype.focus;\n    SVGElement.prototype.blur = HTMLElement.prototype.blur;\n  } catch(e) {\n    SVGElement.prototype.focus = function focusPolyfill() {\n      // at least make apparent what is going wrong\n      window.console && window.console.warn && window.console.warn('SVGElement.focus() not possible');\n    };\n    SVGElement.prototype.blur = function blurPolyfill() {\n      // at least make apparent what is going wrong\n      window.console && window.console.warn && window.console.warn('SVGElement.blur() not possible');\n    };\n  }\n\n  // restore focus to what it was before test and cleanup\n  document.activeElement && document.activeElement.blur();\n  previousActiveElement && previousActiveElement.focus();\n}\n","\n/*\n    query/firstTabbable() finds the first suitable element to receive focus in the given context.\n    If an element has [autofocus] return that element, otherwise return the first element\n    in document order that does *not* have a positive tabIndex (e.g. as [tabindex=\"1\"]),\n    otherwise return the context itself, if it is focusable.\n\n    Note: Chrome's <dialog> will focus the first tabbable element, even if it has\n    [tabindex=\"1\"]. To mimic that behavior when trapping focus, you'd have to not\n    only handle out-of-bounds situation (like maintain/focus-trapped does), but also handle\n    <kbd>Tab</kbd> for intermediate elements. Since [tabindex=\"1\"] is considered\n    bad practice we'll ignore it until someone complains.\n */\n\nimport 'array.prototype.findindex';\nimport queryTabbable from './tabbable';\nimport isFocusable from '../is/focusable';\nimport nodeArray from '../util/node-array';\n\nfunction hasAutofocus(element) {\n  // [autofocus] actually only works on form element, but who cares?\n  return element.hasAttribute('autofocus');\n}\n\nfunction hasNoPositiveTabindex(element) {\n  return element.tabIndex <= 0;\n}\n\nexport default function({context, sequence, strategy, ignoreAutofocus, defaultToContext} = {}) {\n  let index = -1;\n\n  if (!sequence) {\n    context = nodeArray(context || document.body)[0];\n    sequence = queryTabbable({ context, strategy });\n  }\n\n  if (sequence.length && !ignoreAutofocus) {\n    // prefer [autofocus]\n    index = sequence.findIndex(hasAutofocus);\n  }\n\n  if (sequence.length && index === -1) {\n    // ignore positive [tabindex]\n    index = sequence.findIndex(hasNoPositiveTabindex);\n  }\n\n  if (index === -1 && defaultToContext && context && isFocusable(context)) {\n    return context;\n  }\n\n  return sequence[index] || null;\n}\n","\n// http://www.w3.org/TR/html5/editing.html#focusable\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport nodeArray from '../util/node-array';\nimport queryFocusableStrict from './focusable.strict';\nimport queryFocusableQuick from './focusable.quick';\n\nexport default function({context, includeContext, strategy = 'quick'} = {}) {\n  context = nodeArray(context)[0];\n  // alias document to document.documentElement for convenience\n  if (!context || context.nodeType === Node.DOCUMENT_NODE) {\n    context = document.documentElement;\n  }\n\n  if (context.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('query/focusable requires an argument of type Element');\n  }\n\n  if (strategy === 'quick') {\n    return queryFocusableQuick({context, includeContext});\n  } else if (strategy === 'strict' || strategy === 'all') {\n    return queryFocusableStrict({context, includeContext, strategy});\n  }\n\n  throw new TypeError('query/focusable requires option.strategy to be one of [\"quick\", \"strict\"]');\n}\n","\n// http://www.w3.org/TR/html5/editing.html#focusable\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport selector from '../selector/focusable';\nimport isFocusable from '../is/focusable';\n\nexport default function queryFocusableQuick({context, includeContext} = {}) {\n  var elements = context.querySelectorAll(selector);\n  // the selector potentially matches more than really is focusable\n  var result = [].filter.call(elements, isFocusable);\n  // add context if requested and focusable\n  if (includeContext && isFocusable(context)) {\n    result.unshift(context);\n  }\n\n  return result;\n}\n","\n// http://www.w3.org/TR/html5/editing.html#focusable\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport isFocusable from '../is/focusable';\nimport isFocusRelevant from '../is/focus-relevant';\nimport isOnlyTabbable from '../is/only-tabbable';\n\n// see https://developer.mozilla.org/en-US/docs/Web/API/NodeFilter\nconst FocusableFilter = function(node) {\n  if (node.shadowRoot) {\n    // return ShadowRoot elements regardless of them being focusable,\n    // so they can be walked recursively later\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  if (isFocusable(node)) {\n    // finds elements that could have been found by document.querySelectorAll()\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  return NodeFilter.FILTER_SKIP;\n};\n// IE requires a function, Browsers require {acceptNode: function}\n// see http://www.bennadel.com/blog/2607-finding-html-comment-nodes-in-the-dom-using-treewalker.htm\nFocusableFilter.acceptNode = FocusableFilter;\n\n// see https://developer.mozilla.org/en-US/docs/Web/API/NodeFilter\nconst PossiblyFocusableFilter = function(node) {\n  if (node.shadowRoot) {\n    // return ShadowRoot elements regardless of them being focusable,\n    // so they can be walked recursively later\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  if (isOnlyTabbable(node) || isFocusRelevant(node)) {\n    // finds elements that could have been found by document.querySelectorAll()\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  return NodeFilter.FILTER_SKIP;\n};\n// IE requires a function, Browsers require {acceptNode: function}\n// see http://www.bennadel.com/blog/2607-finding-html-comment-nodes-in-the-dom-using-treewalker.htm\nPossiblyFocusableFilter.acceptNode = PossiblyFocusableFilter;\n\nexport default function queryFocusableStrict({context, includeContext, strategy} = {}) {\n  // see https://developer.mozilla.org/en-US/docs/Web/API/Document/createTreeWalker\n  const walker = document.createTreeWalker(\n    // root element to start search in\n    context || document.documentElement,\n    // element type filter\n    NodeFilter.SHOW_ELEMENT,\n    // custom NodeFilter filter\n    strategy === 'all' ? PossiblyFocusableFilter : FocusableFilter,\n    // deprecated, but IE requires it\n    false\n  );\n\n  let list = [];\n\n  while (walker.nextNode()) {\n    if (walker.currentNode.shadowRoot) {\n      if (isFocusable(walker.currentNode)) {\n        list.push(walker.currentNode);\n      }\n\n      list = list.concat(queryFocusableStrict({\n        context: walker.currentNode.shadowRoot,\n        strategy,\n      }));\n    } else {\n      list.push(walker.currentNode);\n    }\n  }\n\n  // add context if requested and focusable\n  if (includeContext) {\n    if (strategy === 'all') {\n      if (isOnlyTabbable(context) || isFocusRelevant(context)) {\n        list.unshift(context);\n      }\n    } else if (isFocusable(context)) {\n      list.unshift(context);\n    }\n  }\n\n  return list;\n}\n","\n// http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport queryFocusable from './focusable';\nimport isTabbable from '../is/tabbable';\n\nexport default function({context, includeContext, strategy} = {}) {\n  return queryFocusable({context, includeContext, strategy}).filter(isTabbable);\n}\n","\n// http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport queryTabbable from './tabbable';\nimport sortTabindex from '../util/sort-elements-by-tabindex';\n\nfunction moveContextToBeginning(elements, context) {\n  const pos = elements.indexOf(context);\n  if (pos > 0) {\n    const tmp = elements.splice(pos, 1);\n    return tmp.concat(elements);\n  }\n\n  return elements;\n}\n\nexport default function({context, includeContext, strategy} = {}) {\n  let elements = queryTabbable({context, includeContext, strategy});\n  elements = sortTabindex(elements);\n\n  if (includeContext) {\n    // if we include the context itself, it has to be the first\n    // element of the sequence\n    elements = moveContextToBeginning(elements, context);\n  }\n\n  return elements;\n}\n","// NOTE: this selector MUST *never* be used directly,\n// always go through query/focusable or is/focusable.js\n// there are too many edge cases that they could be covered in\n// a simple CSS selector\n\nimport '../prototype/svgelement.prototype.focus';\n\nimport canFocusAudioWithoutControls from '../supports/focus-audio-without-controls';\nimport canFocusVideoWithoutControls from '../supports/focus-video-without-controls';\nimport canFocusSvgMethod from '../supports/svg-focus-method';\nimport canFocusTable from '../supports/focus-table';\nimport canFocusFieldset from '../supports/focus-fieldset';\nimport canFocusSummary from '../supports/focus-summary';\nimport cssShadowPiercingDeepCombinator from '../supports/css-shadow-piercing-deep-combinator';\n\n// http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\nlet selector = ''\n  // IE11 can focus <table> and <td>\n  + (canFocusTable ? 'table, td,' : '')\n  // IE11 can focus <fieldset>\n  + (canFocusFieldset ? 'fieldset,' : '')\n  // Namespace problems of [xlink:href] explained in http://stackoverflow.com/a/23047888/515124\n  // Firefox cannot focus <svg> child elements from script\n  + (canFocusSvgMethod ? 'svg a[*|href],' : '')\n  // may behave as 'svg, svg *,' in chrome as *every* svg element with a focus event listener is focusable\n  // navigational elements\n  + 'a[href],'\n  // validity determined by is/valid-area.js\n  + 'area[href],'\n  // validity determined by is/disabled.js\n  + 'input, select, textarea, button,'\n  // browsing context containers\n  + 'iframe, object, embed,'\n  // interactive content\n  + 'keygen,'\n  + (canFocusAudioWithoutControls ? 'audio,' : 'audio[controls],')\n  + (canFocusVideoWithoutControls ? 'video,' : 'video[controls],')\n  + (canFocusSummary ? 'summary,' : '')\n  // validity determined by is/valid-tabindex.js\n  + '[tabindex],'\n  // editing hosts\n  + '[contenteditable]';\n\n// where ShadowDOM is supported, we also want the shadowed focusable elements (via \">>>\" or \"/deep/\")\nif (cssShadowPiercingDeepCombinator) {\n  selector += ', html ' + cssShadowPiercingDeepCombinator + ' '\n    + selector.replace(/\\s*,\\s*/g, ',').split(',').join(', html ' + cssShadowPiercingDeepCombinator + ' ');\n}\n\nexport default selector;\n","\n/*\n  add data-focus-source attribute to html element containing \"key\", \"pointer\" or \"script\"\n  depending on the input method used to change focus.\n\n  USAGE:\n    style/focus-source()\n\n    body :focus {\n      outline: 1px solid grey;\n    }\n\n    html[data-focus-source=\"key\"] body :focus {\n      outline: 5px solid red;\n    }\n\n    html[data-focus-source=\"key\"] body :focus {\n      outline: 1px solid blue;\n    }\n\n  NOTE: I don't have a GamePad to test, if you do and you want to\n  implement an observer for https://w3c.github.io/gamepad/ - send a PR!\n\n  Alternate implementation: https://github.com/alice/modality\n*/\n\nimport shadowFocus from '../event/shadow-focus';\nimport engageInteractionTypeObserver from '../observe/interaction-type';\nimport decorateService from '../util/decorate-service';\n\n// preferring focusin/out because they are synchronous in IE10+11\nconst focusEventName = 'onfocusin' in document ? 'focusin' : 'focus';\nconst blurEventName = 'onfocusin' in document ? 'focusout' : 'blur';\n\n// interface to read interaction-type-listener state\nlet interactionTypeHandler;\nlet shadowHandle;\n// keep track of last focus source\nlet current = null;\n// overwrite focus source for use with the every upcoming focus event\nlet lock = null;\n// overwrite focus source for use with the next focus event\nlet next = null;\n// keep track of ever having used a particular input method to change focus\nlet used = {\n  pointer: false,\n  key: false,\n  script: false,\n  initial: false,\n};\n\nfunction handleFocusEvent(event) {\n  let source = '';\n  if (event.type === focusEventName || event.type === 'shadow-focus') {\n    const interactionType = interactionTypeHandler.get();\n    source = lock || next\n      || interactionType.pointer && 'pointer'\n      || interactionType.key && 'key'\n      || 'script';\n\n    // next focus source is set only once\n    next = null;\n  } else if (event.type === 'initial') {\n    source = 'initial';\n  }\n\n  document.documentElement.setAttribute('data-focus-source', source);\n\n  if (event.type !== blurEventName) {\n    if (!used[source]) {\n      document.documentElement.classList.add('focus-source-' + source);\n    }\n\n    used[source] = true;\n    current = source;\n  }\n}\n\nfunction getCurrentFocusSource() {\n  return current;\n}\n\nfunction getUsedFocusSource(source) {\n  return used[source];\n}\n\nfunction repeatFocusSource(source) {\n  next = source === false ? null : current;\n}\n\nfunction setNextFocusSource(source) {\n  next = source;\n}\n\nfunction lockFocusSource(source) {\n  lock = source;\n}\n\nfunction disengage() {\n  // clear dom state\n  handleFocusEvent({type: blurEventName});\n  current = lock = next = null;\n  Object.keys(used).forEach(function(key) {\n    document.documentElement.classList.remove('focus-source-' + key);\n    used[key] = false;\n  });\n  // kill interaction type identification listener\n  interactionTypeHandler.disengage();\n  // kill shadow-focus event dispatcher\n  shadowHandle && shadowHandle.disengage();\n  document.removeEventListener('shadow-focus', handleFocusEvent, true);\n  document.documentElement.removeEventListener(focusEventName, handleFocusEvent, true);\n  document.documentElement.removeEventListener(blurEventName, handleFocusEvent, true);\n  document.documentElement.removeAttribute('data-focus-source');\n}\n\nfunction engage() {\n  // enable the shadow-focus event dispatcher\n  shadowHandle = shadowFocus();\n  // handlers to modify the focused element\n  document.addEventListener('shadow-focus', handleFocusEvent, true);\n  document.documentElement.addEventListener(focusEventName, handleFocusEvent, true);\n  document.documentElement.addEventListener(blurEventName, handleFocusEvent, true);\n  // enable the interaction type identification observer\n  interactionTypeHandler = engageInteractionTypeObserver();\n  // set up initial dom state\n  handleFocusEvent({type: 'initial'});\n\n  return {\n    used: getUsedFocusSource,\n    current: getCurrentFocusSource,\n    next: setNextFocusSource,\n    lock: lockFocusSource,\n    repeat: repeatFocusSource,\n  };\n}\n\nexport default decorateService({ engage, disengage });\n","\n/*\n  add .ally-focus-within class to parents of document.activeElement,\n  to provide the functionality of :focus-within where it's not available\n  see http://dev.w3.org/csswg/selectors-4/#the-focus-within-pseudo\n\n  USAGE:\n    style/focus-within()\n*/\n\nimport shadowFocus from '../event/shadow-focus';\nimport cssShadowPiercingDeepCombinator from '../supports/css-shadow-piercing-deep-combinator';\nimport getActiveElements from '../get/active-elements';\nimport getParents from '../get/parents';\nimport decorateService from '../util/decorate-service';\n\n// preferring focusin/out because they are synchronous in IE10+11\nconst focusEventName = 'onfocusin' in document ? 'focusin' : 'focus';\nconst blurEventName = 'onfocusin' in document ? 'focusout' : 'blur';\n\n// NOTE: require classList polyfill may be necessary (not available on SVGElement)\n// http://caniuse.com/#feat=classlist available since IE10\n// https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills#classlist\n// https://developer.mozilla.org/en-US/docs/Web/API/Element.classList\n\nconst className = 'ally-focus-within';\nlet blurTimer;\nlet shadowHandle;\n\nfunction applyFocusWithinClass(active) {\n  let _active = active || getActiveElements();\n  let selector = '.' + className;\n  if (cssShadowPiercingDeepCombinator) {\n    // select elements in shadow dom as well\n    selector += ', html ' + cssShadowPiercingDeepCombinator + ' ' + selector;\n  } else {\n    // no shadow-piercing descendant selector, no joy\n    _active = _active.slice(-1);\n  }\n\n  // identify the elements that currently have :focus-within\n  const _current = [].slice.call(document.querySelectorAll(selector), 0);\n  // get the path (ancestry) of each ShadowRoot and merge them into a flat list\n  const elements = _active.map((context) => getParents({context})).reduce(function(previous, current) {\n    return current.concat(previous);\n  }, []);\n\n  // remove the class only from elements that would not receive it again (minimize dom action)\n  _current.forEach(function(element) {\n    if (elements.indexOf(element) !== -1) {\n      return;\n    }\n\n    element.classList.remove(className);\n  });\n\n  // apply the class only to elements that do not yet have it (minimize dom action)\n  elements.forEach(function(element) {\n    if (_current.indexOf(element) !== -1) {\n      return;\n    }\n\n    element.classList.add(className);\n  });\n}\n\nfunction handleDocumentBlurEvent() {\n  // we won't get a focus for <body>, but a delayed blur handler will achieve\n  // the same thing listening for focus would've done, unless we get a focus, of course\n  blurTimer = (window.setImmediate || window.setTimeout)(function() {\n    applyFocusWithinClass();\n  });\n}\n\nfunction handleDocumentFocusEvent() {\n  // abort any handlers that come from document or element blur handlers\n  (window.clearImmediate || window.clearTimeout)(blurTimer);\n  // NOTE: we could overcome Firefox 34 issue of not supporting ShadowRoot.host by\n  // passing event.target (which references the first-level ShadowHost), but that\n  // would require applyFocusWithinClass() to distinguish between the argument and\n  // getActiveElements().\n  applyFocusWithinClass();\n}\n\nfunction handleShadowFocusEvent(event) {\n  applyFocusWithinClass(event.detail.elements);\n}\n\nfunction disengage() {\n  shadowHandle && shadowHandle.disengage();\n  (window.clearImmediate || window.clearTimeout)(blurTimer);\n  document.removeEventListener(blurEventName, handleDocumentBlurEvent, true);\n  document.removeEventListener(focusEventName, handleDocumentFocusEvent, true);\n  document.removeEventListener('shadow-focus', handleShadowFocusEvent, true);\n\n  var selector = '.' + className;\n  if (cssShadowPiercingDeepCombinator) {\n    // select elements in shadow dom as well\n    selector += ', html ' + cssShadowPiercingDeepCombinator + ' ' + selector;\n  }\n\n  // remove any remaining ally-within-focus occurrences\n  [].forEach.call(document.querySelectorAll(selector), function(element) {\n    element.classList.remove(className);\n  });\n}\n\nfunction engage() {\n  shadowHandle = shadowFocus();\n  document.addEventListener(blurEventName, handleDocumentBlurEvent, true);\n  document.addEventListener(focusEventName, handleDocumentFocusEvent, true);\n  document.addEventListener('shadow-focus', handleShadowFocusEvent, true);\n  applyFocusWithinClass();\n}\n\nexport default decorateService({ engage, disengage });\n","// see http://dev.w3.org/csswg/css-scoping-1/#deep-combinator\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1117572\n// https://code.google.com/p/chromium/issues/detail?id=446051\n\nimport cache from './supports-cache';\n\nconst testName = 'supports-css-shadow-piercing-deep-combinator';\nlet combinator = cache.get(testName);\n\nif (typeof combinator !== 'string') {\n  try {\n    document.querySelector('html >>> :first-child');\n    combinator = '>>>';\n  } catch (noArrowArrowArrow) {\n    try {\n      // old syntax supported at least up to Chrome 41\n      // https://code.google.com/p/chromium/issues/detail?id=446051\n      document.querySelector('html /deep/ :first-child');\n      combinator = '/deep/';\n    } catch (noDeep) {\n      combinator = '';\n    }\n  }\n\n  cache.set(testName, combinator);\n}\n\nexport default combinator;\n","\nimport cache from './supports-cache';\n\n// options.element:\n//  {string} element name\n// options.mutate: (optional)\n//  {function} callback(element, wrapper) to manipulate element prior to focus-test.\n//             Can return DOMElement to define focus target (default: element)\n// options.validate: (optional)\n//  {function} callback(element) to manipulate test-result\nfunction detectFocus(options) {\n  // wrap tests in an element hidden from screen readers to prevent them\n  // from announcing focus, which can be quite irritating to the user\n  const wrapper = document.createElement('div');\n  wrapper.setAttribute('aria-live', 'off');\n  wrapper.setAttribute('aria-busy', 'true');\n  wrapper.setAttribute('aria-hidden', 'true');\n  document.body.appendChild(wrapper);\n  // create dummy element to test focusability of\n  const element = typeof options.element === 'string' ? document.createElement(options.element) : options.element();\n  // allow callback to further specify dummy element\n  const focus = options.mutate && options.mutate(element, wrapper) || element;\n  // element needs to be part of the DOM to be focusable\n  !element.parentNode && wrapper.appendChild(element);\n  // remember what had focus to restore after test\n  const previousActiveElement = document.activeElement;\n  // test if the element with invalid tabindex can be focused\n  focus.focus && focus.focus();\n  // validate test's result\n  const allowsFocus = options.validate ? options.validate(element) : document.activeElement === focus;\n  // restore focus to what it was before test and cleanup\n  // IE10 does not redirect focus to <body> when the activeElement is removed\n  document.activeElement && document.activeElement.blur();\n  previousActiveElement && previousActiveElement.focus() || document.body.focus();\n  document.body.removeChild(wrapper);\n  return allowsFocus;\n}\n\n// cache detected support so we don't have to bother screen readers with unstoppable focus changes\n// and flood the console with net::ERR_INVALID_URL errors for audio/video tests\nexport default function(options) {\n  let value = cache.get(options.name);\n  if (typeof value !== 'boolean') {\n    value = detectFocus(options);\n    cache.set(options.name, value);\n  }\n\n  return value;\n}\n","\nimport platform from 'platform';\nimport detectFocus from './detect-focus';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default detectFocus({\n  name: 'can-focus-area-tabindex',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"image-map-tabindex-test\">'\n      + '<area href=\"#void\" tabindex=\"-1\" shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#image-map-tabindex-test\" tabindex=\"-1\" alt=\"\" '\n      + 'src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\">';\n\n    return element.querySelector('area');\n  },\n  validate: function(element) {\n    if (platform.name === 'Firefox') {\n      // fixes https://github.com/medialize/ally.js/issues/35\n      // Firefox loads the DataURI asynchronously, causing a false-negative\n      return true;\n    }\n\n    const focus = element.querySelector('area');\n    return document.activeElement === focus;\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\nexport default detectFocus({\n  name: 'can-focus-audio-without-controls',\n  element: 'audio',\n  mutate: function(element) {\n    // invalid media file can trigger warning in console, data-uri to prevent HTTP request\n    element.setAttribute('src', 'data:audio/mp3;base64,' + 'audio-focus-test');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// NOTE: https://github.com/medialize/ally.js/issues/35\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default detectFocus({\n  name: 'can-focus-broken-image-map',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"broken-image-map-test\"><area href=\"#void\" shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#broken-image-map-test\" alt=\"\" src=\"data:image/png;base64,broken-image-test\">';\n\n    return element.querySelector('area');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// Children of focusable elements with display:flex are focusable in IE10-11\nexport default detectFocus({\n  name: 'can-focus-children-of-focusable-flexbox',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('tabindex', '-1');\n    element.setAttribute('style', 'display: -ms-flexbox; display: flex;');\n    element.innerHTML = '<span style=\"display: block;\">hello</span>';\n    return element.querySelector('span');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\nexport default detectFocus({\n  name: 'can-focus-embed-tabindex',\n  // <embed type=\"video/mp4\" src=\"data:video/mp4;base64,embed-tabindex-focus-test\" width=\"640\" height=\"480\" tabindex=\"-1\">\n  element: 'embed',\n  mutate: function(element) {\n    element.setAttribute('tabindex', '-1');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\nexport default detectFocus({\n  name: 'can-focus-embed-tabindex',\n  // <embed type=\"video/mp4\" src=\"data:video/mp4;base64,embed-focus-test\" width=\"640\" height=\"480\">\n  element: 'embed',\n});\n","\nimport detectFocus from './detect-focus';\n\n// fieldset[tabindex=0][disabled] should not be focusable, but Blink and WebKit disagree\n// @specification http://www.w3.org/TR/html5/disabled-elements.html#concept-element-disabled\n// @browser-issue Chromium https://crbug.com/453847\n// @browser-issue WebKit https://bugs.webkit.org/show_bug.cgi?id=141086\nexport default detectFocus({\n  name: 'can-focus-disabled-fieldset',\n  element: 'fieldset',\n  mutate: function(element) {\n    element.setAttribute('tabindex', 0);\n    element.setAttribute('disabled', 'disabled');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\nexport default detectFocus({\n  name: 'can-focus-fieldset',\n  element: 'fieldset',\n  mutate: function(element) {\n    element.innerHTML = '<legend>legend</legend><p>content</p>';\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// NOTE: https://github.com/medialize/ally.js/issues/35\n// fixes https://github.com/medialize/ally.js/issues/20\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-ismap\nexport default detectFocus({\n  name: 'can-focus-img-ismap',\n  element: 'a',\n  mutate: function(element) {\n    element.href = '#void';\n    element.innerHTML = '<img ismap src=\"data:image/png;base64,broken-image-test\" alt=\"\">';\n    return element.querySelector('img');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// NOTE: https://github.com/medialize/ally.js/issues/35\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default detectFocus({\n  name: 'can-focus-img-usemap-tabindex',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"image-map-tabindex-test\"><area href=\"#void\" shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#image-map-tabindex-test\" tabindex=\"-1\" alt=\"\" '\n      + 'src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\">';\n\n    return element.querySelector('img');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// Firefox allows *any* value and treats invalid values like tabindex=\"-1\"\n// @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\nexport default detectFocus({\n  name: 'allows-invalid-tabindex-value',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('tabindex', 'invalid-value');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// only Trident and Edge are able to focus a <label tabindex=\"-1\">,\n// as all other browsers seem hardwired to forward focus to the target input, if possible\nexport default detectFocus({\n  name: 'can-focus-label-tabindex',\n  element: 'label',\n  mutate: function(element) {\n    element.setAttribute('tabindex', '-1');\n  },\n});\n","\nimport platform from 'platform';\nimport detectFocus from './detect-focus';\n\nlet support = detectFocus({\n  name: 'can-focus-object-svg',\n  element: 'object',\n  mutate: function(element) {\n    var svg = 'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk'\n     + '5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==';\n\n    element.setAttribute('type', 'image/svg+xml');\n    element.setAttribute('data', 'data:image/svg+xml,base64,' + svg);\n    element.setAttribute('width', '200');\n    element.setAttribute('height', '50');\n  },\n});\n\n// Firefox seems to be handling the object creation asynchronously and thereby produces a false negative test result.\n// Because we know Firefox is able to focus object elements referencing SVGs, we simply cheat by sniffing the user agent string\nif (platform.name === 'Firefox') {\n  support = true;\n}\n\nexport default support;\n","\nimport detectFocus from './detect-focus';\n\n// https://github.com/medialize/ally.js/issues/21\nexport default detectFocus({\n  name: 'can-focus-scroll-body',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('style', 'width: 100px; height: 50px; overflow: auto;');\n    element.innerHTML = '<div style=\"width: 500px; height: 40px;\">scrollable content</div>';\n    return element.querySelector('div');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// https://github.com/medialize/ally.js/issues/21\nexport default detectFocus({\n  name: 'can-focus-scroll-container-without-overflow',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('style', 'width: 100px; height: 50px;');\n    element.innerHTML = '<div style=\"width: 500px; height: 40px;\">scrollable content</div>';\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// https://github.com/medialize/ally.js/issues/21\nexport default detectFocus({\n  name: 'can-focus-scroll-container',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('style', 'width: 100px; height: 50px; overflow: auto;');\n    element.innerHTML = '<div style=\"width: 500px; height: 40px;\">scrollable content</div>';\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\nexport default detectFocus({\n  name: 'can-focus-summary',\n  element: 'details',\n  mutate: function(element) {\n    element.innerHTML = '<summary>foo</summary><p>content</p>';\n    return element.firstElementChild;\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\n// Firefox allows *any* value and treats invalid values like tabindex=\"-1\"\n// @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\nexport default detectFocus({\n  name: 'allows-tabindex-trailing-characters',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('tabindex', '3x');\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\nexport default detectFocus({\n  name: 'can-focus-table',\n  element: 'table',\n  mutate: function(element) {\n    element.innerHTML = '<tr><td>cell</td></tr>';\n  },\n});\n","\nimport detectFocus from './detect-focus';\n\nexport default detectFocus({\n  name: 'can-focus-video-without-controls',\n  element: 'video',\n  mutate: function(element) {\n    // invalid media file can trigger warning in console, data-uri to prevent HTTP request\n    element.setAttribute('src', 'data:video/mp4;base64,' + 'video-focus-test');\n  },\n});\n","// Blink dispatches FocusEvent(\"focusout\"), but it is not detectable through (\"onfocusout\" in document.body)\n\nimport detectFocus from './detect-focus';\n\nlet received = false;\nexport default detectFocus({\n  name: 'can-dispatch-focusout',\n  element: 'input',\n  mutate: function(element, wrapper) {\n    wrapper.appendChild(element);\n    element.focus();\n\n    let target = document.createElement('input');\n    wrapper.appendChild(target);\n\n    element.addEventListener('focusout', function() {\n      received = true;\n    }, true);\n\n    return target;\n  },\n  validate: function(element) {\n    return 'onfocusout' in element || received;\n  },\n});\n","/*\n    Facility to cache test results in localStorage.\n\n    USAGE:\n      cache.get('key');\n      cache.set('key', 'value');\n */\n\nfunction readLocalStorage(key) {\n  // allow reading from storage to retrieve previous support results\n  // even while the document does not have focus\n  let data;\n\n  try {\n    data = window.localStorage && window.localStorage.getItem(key);\n    data = data ? JSON.parse(data) : {};\n  } catch (e) {\n    data = {};\n  }\n\n  return data;\n}\n\nfunction writeLocalStorage(key, value) {\n  if (!document.hasFocus()) {\n    // if the document does not have focus when tests are executed, focus() may\n    // not be handled properly and events may not be dispatched immediately.\n    // This can happen when a document is reloaded while Developer Tools have focus.\n    try {\n      window.localStorage && window.localStorage.removeItem(key);\n    } catch(e) {\n      // ignore\n    }\n\n    return;\n  }\n\n  try {\n    window.localStorage && window.localStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    // ignore\n  }\n}\n\nconst userAgent = window.navigator.userAgent;\nconst cacheKey = 'ally-supports-cache';\nlet cache = readLocalStorage(cacheKey);\n\n// update the cache if the user agent changes (newer version, etc)\nif (cache.userAgent !== userAgent) {\n  cache = {};\n}\n\ncache.userAgent = userAgent;\n\nexport default {\n  get: function getCacheValue(key) {\n    return cache[key];\n  },\n  set: function setCacheValue(key, value) {\n    cache[key] = value;\n    writeLocalStorage(cacheKey, cache);\n  },\n};\n","\nfunction getFunctionName(func) {\n  var s = String(func).match(/function\\s+([^\\(]+)\\(/);\n  return s && s[1] || null;\n}\n\n// in Chrome < 47 the focus method lived on Element, instead of HTMLElement\nconst hasElementFocus = Boolean(Element.prototype.focus);\n// in Chrome >= 47 HTMLElement.focus and SVGElement.focus different functions\n// src/prototype/svgelement.prototype.focus.js clones HTMLElement.focus to SVGElement.focus\nconst hasNativeSvgFocus = SVGElement.prototype.focus !== HTMLElement.prototype.focus\n  // src/prototype/svgelement.prototype.focus.js adds a safety-filler for Firefox\n  && getFunctionName(SVGElement.prototype.focus) === 'focus';\n\nexport default hasElementFocus || hasNativeSvgFocus;\n","\n// Node.compareDocumentPosition is available since IE9\n// see https://developer.mozilla.org/en-US/docs/Web/API/Node.compareDocumentPosition\n\n// callback returns true when element is contained by parent or is the parent suited for use with Array.some()\n/*\n  USAGE:\n    var isChildOf = getParentComparator({parent: someNode});\n    listOfElements.some(isChildOf)\n*/\n\nexport function getParentComparator({parent, element, includeSelf}) {\n  if (parent) {\n    return function isChildOf(node) {\n      return includeSelf && node === parent\n        || parent.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY;\n    };\n  } else if (element) {\n    return function isParentOf(node) {\n      return includeSelf && element === node\n        || node.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY;\n    };\n  }\n\n  throw new TypeError('util/compare-position#getParentComparator required either options.parent or options.element');\n}\n","\nimport nodeArray from '../util/node-array';\n\nexport default function({context, message}) {\n  let element = nodeArray(context)[0];\n  if (!element) {\n    throw new TypeError(message || 'context-to-element requires valid options.context');\n  }\n\n  return element;\n}\n","\n/*\n  The Context Decorator is intended to allow modules to easily map dis/engage methods to the general\n  dis/engage and context API format\n*/\n\nimport nodeArray from '../util/node-array';\n\nfunction destruct(/* {force: false} */) {\n  if (!this.context) {\n    return;\n  }\n\n  this.context.forEach(this.disengage);\n  this.context = null;\n  this.engage = null;\n  this.disengage = null;\n}\n\nfunction initialize({context} = {}) {\n  this.context = nodeArray(context || document);\n  this.context.forEach(this.engage);\n  return {\n    disengage: destruct.bind(this),\n  };\n}\n\nfunction noop() {}\n\nexport default function({engage, disengage} = {}) {\n  let data = {\n    engage: engage || noop,\n    disengage: disengage || noop,\n    context: null,\n  };\n\n  return initialize.bind(data);\n}\n","\n/*\n  The Singleton Decorator is intended to allow modules to initialize a (\"singleton\") component as if\n  it was the only one using it. Every module gets to initialize and destruct the component by itself.\n  Via simple reference counting the component keeps track of how many modules have initialized it,\n  so it destructs only when the last module is gone. This decorator hides the component's singleton\n  nature from the application in order to offer a homogenous API.\n\n  engage() can return an object (result) with methods to expose to the consumer,\n  upon initialization result.disengage is added and returned to the consumer.\n*/\n\nfunction destruct({force} = {}) {\n  if (force) {\n    this.instances = 0;\n  } else {\n    this.instances--;\n  }\n\n  if (!this.instances) {\n    this.disengage();\n    this._result = null;\n  }\n}\n\nfunction initialize() {\n  if (this.instances) {\n    this.instances++;\n    return this._result;\n  }\n\n  this.instances++;\n  this._result = this.engage() || {};\n  this._result.disengage = destruct.bind(this);\n\n  return this._result;\n}\n\nfunction noop() {}\n\nexport default function({engage, disengage} = {}) {\n  let data = {\n    engage: engage || noop,\n    disengage: disengage || noop,\n    instances: 0,\n    _result: null,\n  };\n\n  return initialize.bind(data);\n}\n","\n// input may be undefined, selector-tring, Node, NodeList, HTMLCollection, array of Nodes\n// yes, to some extent this is a bad replica of jQuery's constructor function\nexport default function(input) {\n  if (!input) {\n    return [];\n  }\n\n  if (Array.isArray(input)) {\n    return input;\n  }\n\n  if (input instanceof Node) {\n    return [input];\n  }\n\n  if (typeof input === 'string') {\n    input = document.querySelectorAll(input);\n  }\n\n  if (input.length !== undefined) {\n    return [].slice.call(input, 0);\n  }\n\n  throw new TypeError('unexpected input ' + String(input));\n}\n","\nexport default function(elements) {\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.tabIndex\n  // elements with tabIndex \"0\" (including tabbableElements without tabIndex) should be navigated in the order they appear.\n  // elements with a positive tabIndex:\n  //   Elements that have identical tabIndexes should be navigated in the order they appear.\n  //   Navigation proceeds from the lowest tabIndex to the highest tabIndex.\n\n  // NOTE: sort implementation may be unstable and thus mess up DOM order,\n  // that's why we build a map that's being sorted instead. If we were able to rely\n  // on a stable sorting algorithm, sortTabindex() could be as simple as\n  // elements.sort(function(a, b) { return a.tabIndex - b.tabIndex; });\n  // at this time Chrome does not use a stable sorting algorithm\n  // see http://blog.rodneyrehm.de/archives/14-Sorting-Were-Doing-It-Wrong.html#stability\n\n  // NOTE: compareDocumentPosition seemed like more overhead than just sorting this with buckets\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node.compareDocumentPosition\n\n  var map = {};\n  var indexes = [];\n  var normal = elements.filter(function(element) {\n    // extract elements that don't need sorting\n    // in Trident and Gecko SVGElement does not know about the tabIndex property\n    if (element.tabIndex <= 0 || element.tabIndex === undefined) {\n      return true;\n    }\n\n    if (!map[element.tabIndex]) {\n      // create sortable bucket for dom-order-preservation of elements with the same tabIndex\n      map[element.tabIndex] = [];\n      // maintain a list of unique tabIndexes\n      indexes.push(element.tabIndex);\n    }\n\n    // sort element into the proper bucket\n    map[element.tabIndex].push(element);\n    // element moved to sorting map, so not \"normal\" anymore\n    return false;\n  });\n\n  // sort the tabindex ascending,\n  // then resolve them to their appropriate buckets,\n  // then flatten the array of arrays to an array\n  var _elements = indexes.sort().map(function(tabIndex) {\n    return map[tabIndex];\n  }).reduceRight(function(previous, current) {\n    return current.concat(previous);\n  }, normal);\n\n  return _elements;\n}\n","\nimport isValidTabindex from '../is/valid-tabindex';\n\nexport default function(element) {\n  if (!isValidTabindex(element)) {\n    return null;\n  }\n\n  // @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\n  const tabindex = parseInt(element.getAttribute('tabindex'), 10);\n  return isNaN(tabindex) ? -1 : tabindex;\n}\n","\n// helper to turn\n//  <div some-attribute=\"original\">\n// into\n//  <div some-attribute=\"new\" data-cached-some-attribute=\"original\">\n// and back\n\nexport default function({element, attribute, temporaryValue, saveValue}) {\n  const temporaryAttribute = 'data-cached-' + attribute;\n\n  if (temporaryValue !== undefined) {\n    const _value = saveValue || element.getAttribute(attribute);\n    element.setAttribute(temporaryAttribute, _value || '');\n    element.setAttribute(attribute, temporaryValue);\n  } else {\n    const _value = element.getAttribute(temporaryAttribute);\n    element.removeAttribute(temporaryAttribute);\n    if (_value === '') {\n      element.removeAttribute(attribute);\n    } else {\n      element.setAttribute(attribute, _value);\n    }\n  }\n}\n","\nimport getParents from '../get/parents';\n\nfunction getIntersectingRect(one, two) {\n  // identify the rectangle that _element and _container overlap in\n  var top = Math.max(one.top, two.top);\n  var left = Math.max(one.left, two.left);\n  // make sure bottom can't be above top, right can't be before left\n  var right = Math.max(Math.min(one.right, two.right), left);\n  var bottom = Math.max(Math.min(one.bottom, two.bottom), top);\n  // return something resembling ClientRect\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: right - left,\n    height: bottom - top,\n  };\n}\n\nfunction getViewportRect() {\n  var width = window.innerWidth || document.documentElement.clientWidth;\n  var height = window.innerHeight || document.documentElement.clientHeight;\n  // return something resembling ClientRect\n  return {\n    top: 0,\n    right: width,\n    bottom: height,\n    left: 0,\n    width: width,\n    height: height,\n  };\n}\n\nfunction getInnerBoundingClientRect(element) {\n  // convenience for the .reduce() in getScrollableParentRect()\n  var rect = element.getBoundingClientRect();\n\n  // remove the width of the scrollbar because that\n  // area is not really considered visible\n  // NOTE: assuming scrollbar is always to the right and bottom\n  var scrollbarWidth = element.offsetWidth - element.clientWidth;\n  var scrollbarHeight = element.offsetHeight - element.clientHeight;\n  // cannot mutate rect because it has readonly properties\n  var _rect = {\n    top: rect.top,\n    left: rect.left,\n    right: rect.right - scrollbarWidth,\n    bottom: rect.bottom - scrollbarHeight,\n    width: rect.width - scrollbarWidth,\n    height: rect.height - scrollbarHeight,\n    area: 0,\n  };\n\n  _rect.area = _rect.width * _rect.height;\n  return _rect;\n}\n\nfunction isOverflowingElement(element) {\n  var style = window.getComputedStyle(element, null);\n  var value = 'visible';\n  return style.getPropertyValue('overflow-x') !== value\n    && style.getPropertyValue('overflow-y') !== value;\n}\n\nfunction isScrollableElement(element) {\n  // an element not scrollable if it doesn't crop its content\n  if (!isOverflowingElement(element)) {\n    return false;\n  }\n\n  // an element is scrollable when it is smaller than its content\n  return element.offsetHeight < element.scrollHeight\n    || element.offsetWidth < element.scrollWidth;\n}\n\nfunction getScrollableParentRect(element) {\n  // get largest possible space constrained by scrolling containers\n\n  // find scrollable parents\n  var scrollingContainers = getParents({context: element}).slice(1).filter(isScrollableElement);\n\n  if (!scrollingContainers.length) {\n    // no containers, no joy\n    return null;\n  }\n\n  // identify the currently visible intersection of all scrolling container parents\n  return scrollingContainers.reduce(function(previous, current) {\n    var rect = getInnerBoundingClientRect(current);\n    var intersection = getIntersectingRect(rect, previous);\n    // identify the smallest scrolling container so we know how much space\n    // our element can fill at the most - note that this is NOT the area\n    // of the intersection, intersection is just abused as a vehicle\n    intersection.area = Math.min(rect.area, previous.area);\n    return intersection;\n  }, getInnerBoundingClientRect(scrollingContainers[0]));\n}\n\nexport default function(element) {\n  // dimensions of the element itself\n  var _element = element.getBoundingClientRect();\n  // dimensions of the viewport\n  var _viewport = getViewportRect();\n  // we need the area to know how much of the element can be displayed at the most\n  _viewport.area = _viewport.width * _viewport.height;\n\n  var _area = _viewport;\n  // dimensions of the intersection of all scrollable parents\n  var _container = getScrollableParentRect(element);\n  if (_container) {\n    if (!_container.width || !_container.height) {\n      // scrollable containers without dimensions are invisible,\n      // meaning that the element is not visible at all\n      return 0;\n    }\n\n    // dimension the element can currently be rendered in\n    _area = getIntersectingRect(_container, _viewport);\n    _area.area = _container.area;\n  }\n\n  // dimension of the element currently rendered in identified space\n  var _visible = getIntersectingRect(_element, _area);\n  if (!_visible.width || !_visible.height) {\n    // element is not shown within the identified area\n    return 0;\n  }\n\n  // compare the element's currently visible size to the size it\n  // could take up at the most, being either the element's actual\n  // size, or the space theroetically made available if all\n  // scrollable parents are aligned properly\n  var area = _element.width * _element.height;\n  var maxArea = Math.min(area, _area.area);\n  // Firefox may return sub-pixel bounding client rect\n  return Math.round(_visible.width) * Math.round(_visible.height) / maxArea;\n}\n","\nconst version = '1.0.0-beta.4';\nexport default version;\n","\n/*\n  trigger a callback once the context element is focusable and is fully visible in the viewport\n*/\n\nimport whenVisibleArea from './visible-area';\nimport isFocusable from '../is/focusable';\n\nexport default function({context, callback, area} = {}) {\n  if (typeof callback !== 'function') {\n    throw new TypeError('when/focusable requires options.callback to be a function');\n  }\n\n  let filterCallback = function(element) {\n    if (!isFocusable(element)) {\n      return false;\n    }\n\n    return callback(element);\n  };\n\n  let handle = whenVisibleArea({ context, callback: filterCallback, area });\n  let disengage = function() {\n    document.body.removeEventListener('focus', disengage, true);\n    handle && handle.disengage();\n  };\n\n  document.body.addEventListener('focus', disengage, true);\n\n  return { disengage };\n}\n","\nimport keycode from '../map/keycode';\n\n// Bug 286933 - Key events in the autocomplete popup should be hidden from page scripts\n// @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=286933\n\nexport default function(map = {}) {\n  let disengage;\n\n  const keys = {};\n  const mapKeys = Object.keys(map);\n  if (!mapKeys.length) {\n    throw new TypeError('when/key requires at least one option key');\n  }\n\n  mapKeys.forEach(function(key) {\n    const code = keycode[key] || parseInt(key, 10);\n    if (!code || typeof code !== 'number' || isNaN(code)) {\n      throw new TypeError('when/key requires option keys to be numeric or references to map/keycode, but \"' + key + '\" is neither');\n    }\n\n    if (typeof map[key] !== 'function') {\n      throw new TypeError('when/key requires option.' + key + ' to be a function');\n    }\n\n    keys[code] = map[key];\n  });\n\n  const handleKeyDown = function(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    const callback = keys[event.keyCode];\n    if (!callback) {\n      return;\n    }\n\n    callback.call(this, event, disengage);\n  };\n\n  document.documentElement.addEventListener('keydown', handleKeyDown, false);\n\n  disengage = function() {\n    document.documentElement.removeEventListener('keydown', handleKeyDown, false);\n  };\n\n  return { disengage };\n}\n","\n/*\n  execute a callback once an element became fully visible in the viewport\n*/\n\nimport isVisible from '../is/visible';\nimport visibleArea from '../util/visible-area';\nimport nodeArray from '../util/node-array';\n\nexport default function({context, callback, area} = {}) {\n  if (typeof callback !== 'function') {\n    throw new TypeError('when/visible-area requires options.callback to be a function');\n  }\n\n  if (context === undefined) {\n    throw new TypeError('when/visible-area requires valid options.context');\n  }\n\n  if (typeof area !== 'number') {\n    area = 1;\n  }\n\n  let element = nodeArray(context)[0];\n  if (!element) {\n    throw new TypeError('when/visible-area requires valid options.context');\n  }\n\n  if (isVisible(element) && visibleArea(element) >= area && callback(element) !== false) {\n    // element is already visible, trivial escape\n    return null;\n  }\n\n  let raf;\n  let disengage = function() {\n    raf && cancelAnimationFrame(raf);\n  };\n\n  var runWhenReady = function() {\n    if (!isVisible(element) || visibleArea(element) < area || callback(element) === false) {\n      raf = requestAnimationFrame(runWhenReady);\n      return;\n    }\n\n    disengage();\n  };\n\n  runWhenReady();\n  return { disengage };\n}\n"]}